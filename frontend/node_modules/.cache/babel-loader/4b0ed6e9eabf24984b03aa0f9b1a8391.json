{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useLayoutState = useLayoutState;\nexports.useTimeoutLock = useTimeoutLock;\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\nvar _react = require(\"react\");\n\n/**\n * Execute code before next frame but async\n */\nfunction useLayoutState(defaultState) {\n  var stateRef = (0, _react.useRef)(defaultState);\n  var _useState = (0, _react.useState)({}),\n    _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n    forceUpdate = _useState2[1];\n  var lastPromiseRef = (0, _react.useRef)(null);\n  var updateBatchRef = (0, _react.useRef)([]);\n  function setFrameState(updater) {\n    updateBatchRef.current.push(updater);\n    var promise = Promise.resolve();\n    lastPromiseRef.current = promise;\n    promise.then(function () {\n      if (lastPromiseRef.current === promise) {\n        var prevBatch = updateBatchRef.current;\n        var prevState = stateRef.current;\n        updateBatchRef.current = [];\n        prevBatch.forEach(function (batchUpdater) {\n          stateRef.current = batchUpdater(stateRef.current);\n        });\n        lastPromiseRef.current = null;\n        if (prevState !== stateRef.current) {\n          forceUpdate({});\n        }\n      }\n    });\n  }\n  (0, _react.useEffect)(function () {\n    return function () {\n      lastPromiseRef.current = null;\n    };\n  }, []);\n  return [stateRef.current, setFrameState];\n}\n/** Lock frame, when frame pass reset the lock. */\n\nfunction useTimeoutLock(defaultState) {\n  var frameRef = (0, _react.useRef)(defaultState || null);\n  var timeoutRef = (0, _react.useRef)();\n  function cleanUp() {\n    window.clearTimeout(timeoutRef.current);\n  }\n  function setState(newState) {\n    frameRef.current = newState;\n    cleanUp();\n    timeoutRef.current = window.setTimeout(function () {\n      frameRef.current = null;\n      timeoutRef.current = undefined;\n    }, 100);\n  }\n  function getState() {\n    return frameRef.current;\n  }\n  (0, _react.useEffect)(function () {\n    return cleanUp;\n  }, []);\n  return [setState, getState];\n}","map":{"version":3,"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","useLayoutState","useTimeoutLock","_slicedToArray2","_react","defaultState","stateRef","useRef","_useState","useState","_useState2","default","forceUpdate","lastPromiseRef","updateBatchRef","setFrameState","updater","current","push","promise","Promise","resolve","then","prevBatch","prevState","forEach","batchUpdater","useEffect","frameRef","timeoutRef","cleanUp","window","clearTimeout","setState","newState","setTimeout","undefined","getState"],"sources":["/Users/apple/mu-grievance-redessal-portal/frontend/node_modules/rc-table/lib/hooks/useFrame.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useLayoutState = useLayoutState;\nexports.useTimeoutLock = useTimeoutLock;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _react = require(\"react\");\n\n/**\n * Execute code before next frame but async\n */\nfunction useLayoutState(defaultState) {\n  var stateRef = (0, _react.useRef)(defaultState);\n\n  var _useState = (0, _react.useState)({}),\n      _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n      forceUpdate = _useState2[1];\n\n  var lastPromiseRef = (0, _react.useRef)(null);\n  var updateBatchRef = (0, _react.useRef)([]);\n\n  function setFrameState(updater) {\n    updateBatchRef.current.push(updater);\n    var promise = Promise.resolve();\n    lastPromiseRef.current = promise;\n    promise.then(function () {\n      if (lastPromiseRef.current === promise) {\n        var prevBatch = updateBatchRef.current;\n        var prevState = stateRef.current;\n        updateBatchRef.current = [];\n        prevBatch.forEach(function (batchUpdater) {\n          stateRef.current = batchUpdater(stateRef.current);\n        });\n        lastPromiseRef.current = null;\n\n        if (prevState !== stateRef.current) {\n          forceUpdate({});\n        }\n      }\n    });\n  }\n\n  (0, _react.useEffect)(function () {\n    return function () {\n      lastPromiseRef.current = null;\n    };\n  }, []);\n  return [stateRef.current, setFrameState];\n}\n/** Lock frame, when frame pass reset the lock. */\n\n\nfunction useTimeoutLock(defaultState) {\n  var frameRef = (0, _react.useRef)(defaultState || null);\n  var timeoutRef = (0, _react.useRef)();\n\n  function cleanUp() {\n    window.clearTimeout(timeoutRef.current);\n  }\n\n  function setState(newState) {\n    frameRef.current = newState;\n    cleanUp();\n    timeoutRef.current = window.setTimeout(function () {\n      frameRef.current = null;\n      timeoutRef.current = undefined;\n    }, 100);\n  }\n\n  function getState() {\n    return frameRef.current;\n  }\n\n  (0, _react.useEffect)(function () {\n    return cleanUp;\n  }, []);\n  return [setState, getState];\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script"}