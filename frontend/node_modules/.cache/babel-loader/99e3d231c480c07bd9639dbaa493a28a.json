{"ast":null,"code":"import Axios from \"axios\";\nimport { setAuthorizationHeaderForGrievanceService } from \"./grievance\";\nexport let userBaseURL = \"\";\nswitch (process.env.NODE_ENV) {\n  case \"development\":\n    userBaseURL = process.env.REACT_APP_USER_SERVICE_URL_DEV;\n    break;\n  case \"production\":\n    userBaseURL = process.env.REACT_APP_USER_SERVICE_URL_PROD;\n    break;\n  case \"test\":\n    userBaseURL = process.env.REACT_APP_USER_SERVICE_URL_TEST;\n    break;\n  default:\n    userBaseURL = process.env.REACT_APP_USER_SERVICE_URL_DEV;\n    break;\n}\nconst axios = Axios.create({\n  baseURL: userBaseURL\n});\nexport const setAuthorizationHeader = (token, userType) => {\n  localStorage.setItem(\"token\", token);\n  if (!!userType) localStorage.setItem(\"userType\", userType);\n  axios.defaults.headers.Authorization = token;\n};\nexport const registerUser = async ({\n  data,\n  userType\n}) => await axios.post(`/user/register/${userType}`, data);\nexport const loginUser = async ({\n  data\n}) => {\n  sessionStorage.setItem(\"email\", data.email);\n  const {\n    data: {\n      token\n    }\n  } = await axios.post(`/user/login`, data);\n  const jwt = \"Bearer \" + token;\n  setAuthorizationHeader(jwt);\n  setAuthorizationHeaderForGrievanceService(jwt);\n  return token;\n};\nexport const verifyUser = async payload => {\n  return await axios.patch(`/user/verify`, payload);\n};\nexport const forgotPassword = async email => {\n  sessionStorage.setItem(\"email\", email);\n  return await axios.patch(`/user/forgot/${email}`);\n};\nexport const resetPassword = async data => {\n  return await axios.patch(`/user/reset`, data);\n};\nexport const getAllCommittee = async () => {\n  const {\n    data\n  } = await axios.get(`/user/committee`);\n  return data;\n};\nexport const getAllCommitteePublic = async () => {\n  const {\n    data\n  } = await axios.get(`/user/committee/public`);\n  return data;\n};\nexport const getCommittee = async (key, id) => {\n  const {\n    data\n  } = await axios.get(`/user/committee/${id}`);\n  return data;\n};\nexport const editCommittee = async ({\n  id,\n  data\n}) => await axios.patch(`/user/committee/${id}/update`, data);","map":{"version":3,"names":["Axios","setAuthorizationHeaderForGrievanceService","userBaseURL","process","env","NODE_ENV","REACT_APP_USER_SERVICE_URL_DEV","REACT_APP_USER_SERVICE_URL_PROD","REACT_APP_USER_SERVICE_URL_TEST","axios","create","baseURL","setAuthorizationHeader","token","userType","localStorage","setItem","defaults","headers","Authorization","registerUser","data","post","loginUser","sessionStorage","email","jwt","verifyUser","payload","patch","forgotPassword","resetPassword","getAllCommittee","get","getAllCommitteePublic","getCommittee","key","id","editCommittee"],"sources":["/Users/apple/mu-grievance-redessal-portal/frontend/src/APIs/user.jsx"],"sourcesContent":["import Axios from \"axios\";\nimport { setAuthorizationHeaderForGrievanceService } from \"./grievance\";\n\nexport let userBaseURL = \"\";\nswitch (process.env.NODE_ENV) {\n  case \"development\":\n    userBaseURL = process.env.REACT_APP_USER_SERVICE_URL_DEV;\n    break;\n  case \"production\":\n    userBaseURL = process.env.REACT_APP_USER_SERVICE_URL_PROD;\n    break;\n  case \"test\":\n    userBaseURL = process.env.REACT_APP_USER_SERVICE_URL_TEST;\n    break;\n  default:\n    userBaseURL = process.env.REACT_APP_USER_SERVICE_URL_DEV;\n    break;\n}\n\nconst axios = Axios.create({\n  baseURL: userBaseURL,\n});\n\nexport const setAuthorizationHeader = (token, userType) => {\n  localStorage.setItem(\"token\", token);\n  if (!!userType) localStorage.setItem(\"userType\", userType);\n  axios.defaults.headers.Authorization = token;\n};\n\nexport const registerUser = async ({ data, userType }) => await axios.post(`/user/register/${userType}`, data);\n\nexport const loginUser = async ({ data }) => {\n  sessionStorage.setItem(\"email\", data.email);\n  const {\n    data: { token },\n  } = await axios.post(`/user/login`, data);\n  const jwt = \"Bearer \" + token;\n  setAuthorizationHeader(jwt);\n  setAuthorizationHeaderForGrievanceService(jwt);\n  return token;\n};\n\nexport const verifyUser = async (payload) => {\n  return await axios.patch(`/user/verify`, payload);\n};\n\nexport const forgotPassword = async (email) => {\n  sessionStorage.setItem(\"email\", email);\n  return await axios.patch(`/user/forgot/${email}`);\n};\n\nexport const resetPassword = async (data) => {\n  return await axios.patch(`/user/reset`, data);\n};\n\nexport const getAllCommittee = async () => {\n  const { data } = await axios.get(`/user/committee`);\n  return data;\n};\nexport const getAllCommitteePublic = async () => {\n  const { data } = await axios.get(`/user/committee/public`);\n  return data;\n};\n\nexport const getCommittee = async (key, id) => {\n  const { data } = await axios.get(`/user/committee/${id}`);\n  return data;\n};\nexport const editCommittee = async ({ id, data }) => await axios.patch(`/user/committee/${id}/update`, data);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}