{"ast":null,"code":"import React from 'react';\nimport { useIsMounted } from './utils';\nimport { getResolvedQueryConfig } from '../core/config';\nimport { QueryObserver } from '../core/queryObserver';\nimport { useErrorResetBoundary } from './ReactQueryErrorResetBoundary';\nimport { useQueryCache } from './ReactQueryCacheProvider';\nimport { useContextConfig } from './ReactQueryConfigProvider';\nexport function useBaseQuery(queryKey, config) {\n  var _React$useReducer = React.useReducer(function (c) {\n      return c + 1;\n    }, 0),\n    rerender = _React$useReducer[1];\n  var isMounted = useIsMounted();\n  var cache = useQueryCache();\n  var contextConfig = useContextConfig();\n  var errorResetBoundary = useErrorResetBoundary(); // Get resolved config\n\n  var resolvedConfig = getResolvedQueryConfig(cache, queryKey, contextConfig, config); // Create query observer\n\n  var observerRef = React.useRef();\n  var firstRender = !observerRef.current;\n  var observer = observerRef.current || new QueryObserver(resolvedConfig);\n  observerRef.current = observer; // Subscribe to the observer\n\n  React.useEffect(function () {\n    errorResetBoundary.clearReset();\n    return observer.subscribe(function () {\n      if (isMounted()) {\n        rerender();\n      }\n    });\n  }, [isMounted, observer, rerender, errorResetBoundary]); // Update config\n\n  if (!firstRender) {\n    observer.updateConfig(resolvedConfig);\n  }\n  var result = observer.getCurrentResult(); // Handle suspense\n\n  if (resolvedConfig.suspense || resolvedConfig.useErrorBoundary) {\n    var query = observer.getCurrentQuery();\n    if (result.isError && !errorResetBoundary.isReset() && query.state.throwInErrorBoundary) {\n      throw result.error;\n    }\n    if (resolvedConfig.enabled && resolvedConfig.suspense && !result.isSuccess) {\n      errorResetBoundary.clearReset();\n      var unsubscribe = observer.subscribe();\n      throw observer.fetch().finally(unsubscribe);\n    }\n  }\n  return result;\n}","map":{"version":3,"names":["React","useIsMounted","getResolvedQueryConfig","QueryObserver","useErrorResetBoundary","useQueryCache","useContextConfig","useBaseQuery","queryKey","config","_React$useReducer","useReducer","c","rerender","isMounted","cache","contextConfig","errorResetBoundary","resolvedConfig","observerRef","useRef","firstRender","current","observer","useEffect","clearReset","subscribe","updateConfig","result","getCurrentResult","suspense","useErrorBoundary","query","getCurrentQuery","isError","isReset","state","throwInErrorBoundary","error","enabled","isSuccess","unsubscribe","fetch","finally"],"sources":["/Users/apple/mu-grievance-redessal-portal/frontend/node_modules/react-query/es/react/useBaseQuery.js"],"sourcesContent":["import React from 'react';\nimport { useIsMounted } from './utils';\nimport { getResolvedQueryConfig } from '../core/config';\nimport { QueryObserver } from '../core/queryObserver';\nimport { useErrorResetBoundary } from './ReactQueryErrorResetBoundary';\nimport { useQueryCache } from './ReactQueryCacheProvider';\nimport { useContextConfig } from './ReactQueryConfigProvider';\nexport function useBaseQuery(queryKey, config) {\n  var _React$useReducer = React.useReducer(function (c) {\n    return c + 1;\n  }, 0),\n      rerender = _React$useReducer[1];\n\n  var isMounted = useIsMounted();\n  var cache = useQueryCache();\n  var contextConfig = useContextConfig();\n  var errorResetBoundary = useErrorResetBoundary(); // Get resolved config\n\n  var resolvedConfig = getResolvedQueryConfig(cache, queryKey, contextConfig, config); // Create query observer\n\n  var observerRef = React.useRef();\n  var firstRender = !observerRef.current;\n  var observer = observerRef.current || new QueryObserver(resolvedConfig);\n  observerRef.current = observer; // Subscribe to the observer\n\n  React.useEffect(function () {\n    errorResetBoundary.clearReset();\n    return observer.subscribe(function () {\n      if (isMounted()) {\n        rerender();\n      }\n    });\n  }, [isMounted, observer, rerender, errorResetBoundary]); // Update config\n\n  if (!firstRender) {\n    observer.updateConfig(resolvedConfig);\n  }\n\n  var result = observer.getCurrentResult(); // Handle suspense\n\n  if (resolvedConfig.suspense || resolvedConfig.useErrorBoundary) {\n    var query = observer.getCurrentQuery();\n\n    if (result.isError && !errorResetBoundary.isReset() && query.state.throwInErrorBoundary) {\n      throw result.error;\n    }\n\n    if (resolvedConfig.enabled && resolvedConfig.suspense && !result.isSuccess) {\n      errorResetBoundary.clearReset();\n      var unsubscribe = observer.subscribe();\n      throw observer.fetch().finally(unsubscribe);\n    }\n  }\n\n  return result;\n}"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,YAAY,QAAQ,SAAS;AACtC,SAASC,sBAAsB,QAAQ,gBAAgB;AACvD,SAASC,aAAa,QAAQ,uBAAuB;AACrD,SAASC,qBAAqB,QAAQ,gCAAgC;AACtE,SAASC,aAAa,QAAQ,2BAA2B;AACzD,SAASC,gBAAgB,QAAQ,4BAA4B;AAC7D,OAAO,SAASC,YAAYA,CAACC,QAAQ,EAAEC,MAAM,EAAE;EAC7C,IAAIC,iBAAiB,GAAGV,KAAK,CAACW,UAAU,CAAC,UAAUC,CAAC,EAAE;MACpD,OAAOA,CAAC,GAAG,CAAC;IACd,CAAC,EAAE,CAAC,CAAC;IACDC,QAAQ,GAAGH,iBAAiB,CAAC,CAAC,CAAC;EAEnC,IAAII,SAAS,GAAGb,YAAY,CAAC,CAAC;EAC9B,IAAIc,KAAK,GAAGV,aAAa,CAAC,CAAC;EAC3B,IAAIW,aAAa,GAAGV,gBAAgB,CAAC,CAAC;EACtC,IAAIW,kBAAkB,GAAGb,qBAAqB,CAAC,CAAC,CAAC,CAAC;;EAElD,IAAIc,cAAc,GAAGhB,sBAAsB,CAACa,KAAK,EAAEP,QAAQ,EAAEQ,aAAa,EAAEP,MAAM,CAAC,CAAC,CAAC;;EAErF,IAAIU,WAAW,GAAGnB,KAAK,CAACoB,MAAM,CAAC,CAAC;EAChC,IAAIC,WAAW,GAAG,CAACF,WAAW,CAACG,OAAO;EACtC,IAAIC,QAAQ,GAAGJ,WAAW,CAACG,OAAO,IAAI,IAAInB,aAAa,CAACe,cAAc,CAAC;EACvEC,WAAW,CAACG,OAAO,GAAGC,QAAQ,CAAC,CAAC;;EAEhCvB,KAAK,CAACwB,SAAS,CAAC,YAAY;IAC1BP,kBAAkB,CAACQ,UAAU,CAAC,CAAC;IAC/B,OAAOF,QAAQ,CAACG,SAAS,CAAC,YAAY;MACpC,IAAIZ,SAAS,CAAC,CAAC,EAAE;QACfD,QAAQ,CAAC,CAAC;MACZ;IACF,CAAC,CAAC;EACJ,CAAC,EAAE,CAACC,SAAS,EAAES,QAAQ,EAAEV,QAAQ,EAAEI,kBAAkB,CAAC,CAAC,CAAC,CAAC;;EAEzD,IAAI,CAACI,WAAW,EAAE;IAChBE,QAAQ,CAACI,YAAY,CAACT,cAAc,CAAC;EACvC;EAEA,IAAIU,MAAM,GAAGL,QAAQ,CAACM,gBAAgB,CAAC,CAAC,CAAC,CAAC;;EAE1C,IAAIX,cAAc,CAACY,QAAQ,IAAIZ,cAAc,CAACa,gBAAgB,EAAE;IAC9D,IAAIC,KAAK,GAAGT,QAAQ,CAACU,eAAe,CAAC,CAAC;IAEtC,IAAIL,MAAM,CAACM,OAAO,IAAI,CAACjB,kBAAkB,CAACkB,OAAO,CAAC,CAAC,IAAIH,KAAK,CAACI,KAAK,CAACC,oBAAoB,EAAE;MACvF,MAAMT,MAAM,CAACU,KAAK;IACpB;IAEA,IAAIpB,cAAc,CAACqB,OAAO,IAAIrB,cAAc,CAACY,QAAQ,IAAI,CAACF,MAAM,CAACY,SAAS,EAAE;MAC1EvB,kBAAkB,CAACQ,UAAU,CAAC,CAAC;MAC/B,IAAIgB,WAAW,GAAGlB,QAAQ,CAACG,SAAS,CAAC,CAAC;MACtC,MAAMH,QAAQ,CAACmB,KAAK,CAAC,CAAC,CAACC,OAAO,CAACF,WAAW,CAAC;IAC7C;EACF;EAEA,OAAOb,MAAM;AACf","ignoreList":[]},"metadata":{},"sourceType":"module"}