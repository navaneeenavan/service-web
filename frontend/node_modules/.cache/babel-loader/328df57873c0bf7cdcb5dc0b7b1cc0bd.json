{"ast":null,"code":"(function (f) {\n  if (typeof exports === \"object\" && typeof module !== \"undefined\") {\n    module.exports = f();\n  } else if (typeof define === \"function\" && define.amd) {\n    define([], f);\n  } else {\n    var g;\n    if (typeof window !== \"undefined\") {\n      g = window;\n    } else if (typeof global !== \"undefined\") {\n      g = global;\n    } else if (typeof self !== \"undefined\") {\n      g = self;\n    } else {\n      g = this;\n    }\n    g.lottie_api = f();\n  }\n})(function () {\n  var define, module, exports;\n  return function () {\n    function r(e, n, t) {\n      function o(i, f) {\n        if (!n[i]) {\n          if (!e[i]) {\n            var c = \"function\" == typeof require && require;\n            if (!f && c) return c(i, !0);\n            if (u) return u(i, !0);\n            var a = new Error(\"Cannot find module '\" + i + \"'\");\n            throw a.code = \"MODULE_NOT_FOUND\", a;\n          }\n          var p = n[i] = {\n            exports: {}\n          };\n          e[i][0].call(p.exports, function (r) {\n            var n = e[i][1][r];\n            return o(n || r);\n          }, p, p.exports, r, e, n, t);\n        }\n        return n[i].exports;\n      }\n      for (var u = \"function\" == typeof require && require, i = 0; i < t.length; i++) o(t[i]);\n      return o;\n    }\n    return r;\n  }()({\n    1: [function (require, module, exports) {\n      'use strict';\n\n      var Renderer = require('../renderer/Renderer');\n      var layer_api = require('../helpers/layerAPIBuilder');\n      function AnimationItemFactory(animation) {\n        var state = {\n          animation: animation,\n          elements: animation.renderer.elements.map(function (item) {\n            return layer_api(item, animation);\n          }),\n          boundingRect: null,\n          scaleData: null\n        };\n        function getCurrentFrame() {\n          return animation.currentFrame;\n        }\n        function getCurrentTime() {\n          return animation.currentFrame / animation.frameRate;\n        }\n        function addValueCallback(properties, value) {\n          var i,\n            len = properties.length;\n          for (i = 0; i < len; i += 1) {\n            properties.getPropertyAtIndex(i).setValue(value);\n          }\n        }\n        function toKeypathLayerPoint(properties, point) {\n          var i,\n            len = properties.length;\n          var points = [];\n          for (i = 0; i < len; i += 1) {\n            points.push(properties.getPropertyAtIndex(i).toKeypathLayerPoint(point));\n          }\n          if (points.length === 1) {\n            return points[0];\n          }\n          return points;\n        }\n        function fromKeypathLayerPoint(properties, point) {\n          var i,\n            len = properties.length;\n          var points = [];\n          for (i = 0; i < len; i += 1) {\n            points.push(properties.getPropertyAtIndex(i).fromKeypathLayerPoint(point));\n          }\n          if (points.length === 1) {\n            return points[0];\n          }\n          return points;\n        }\n        function calculateScaleData(boundingRect) {\n          var compWidth = animation.animationData.w;\n          var compHeight = animation.animationData.h;\n          var compRel = compWidth / compHeight;\n          var elementWidth = boundingRect.width;\n          var elementHeight = boundingRect.height;\n          var elementRel = elementWidth / elementHeight;\n          var scale, scaleXOffset, scaleYOffset;\n          var xAlignment, yAlignment, scaleMode;\n          var aspectRatio = animation.renderer.renderConfig.preserveAspectRatio.split(' ');\n          if (aspectRatio[1] === 'meet') {\n            scale = elementRel > compRel ? elementHeight / compHeight : elementWidth / compWidth;\n          } else {\n            scale = elementRel > compRel ? elementWidth / compWidth : elementHeight / compHeight;\n          }\n          xAlignment = aspectRatio[0].substr(0, 4);\n          yAlignment = aspectRatio[0].substr(4);\n          if (xAlignment === 'xMin') {\n            scaleXOffset = 0;\n          } else if (xAlignment === 'xMid') {\n            scaleXOffset = (elementWidth - compWidth * scale) / 2;\n          } else {\n            scaleXOffset = elementWidth - compWidth * scale;\n          }\n          if (yAlignment === 'YMin') {\n            scaleYOffset = 0;\n          } else if (yAlignment === 'YMid') {\n            scaleYOffset = (elementHeight - compHeight * scale) / 2;\n          } else {\n            scaleYOffset = elementHeight - compHeight * scale;\n          }\n          return {\n            scaleYOffset: scaleYOffset,\n            scaleXOffset: scaleXOffset,\n            scale: scale\n          };\n        }\n        function recalculateSize(container) {\n          var container = animation.wrapper;\n          state.boundingRect = container.getBoundingClientRect();\n          state.scaleData = calculateScaleData(state.boundingRect);\n        }\n        function toContainerPoint(point) {\n          if (!animation.wrapper || !animation.wrapper.getBoundingClientRect) {\n            return point;\n          }\n          if (!state.boundingRect) {\n            recalculateSize();\n          }\n          var boundingRect = state.boundingRect;\n          var newPoint = [point[0] - boundingRect.left, point[1] - boundingRect.top];\n          var scaleData = state.scaleData;\n          newPoint[0] = (newPoint[0] - scaleData.scaleXOffset) / scaleData.scale;\n          newPoint[1] = (newPoint[1] - scaleData.scaleYOffset) / scaleData.scale;\n          return newPoint;\n        }\n        function fromContainerPoint(point) {\n          if (!animation.wrapper || !animation.wrapper.getBoundingClientRect) {\n            return point;\n          }\n          if (!state.boundingRect) {\n            recalculateSize();\n          }\n          var boundingRect = state.boundingRect;\n          var scaleData = state.scaleData;\n          var newPoint = [point[0] * scaleData.scale + scaleData.scaleXOffset, point[1] * scaleData.scale + scaleData.scaleYOffset];\n          var newPoint = [newPoint[0] + boundingRect.left, newPoint[1] + boundingRect.top];\n          return newPoint;\n        }\n        function getScaleData() {\n          return state.scaleData;\n        }\n        var methods = {\n          recalculateSize: recalculateSize,\n          getScaleData: getScaleData,\n          toContainerPoint: toContainerPoint,\n          fromContainerPoint: fromContainerPoint,\n          getCurrentFrame: getCurrentFrame,\n          getCurrentTime: getCurrentTime,\n          addValueCallback: addValueCallback,\n          toKeypathLayerPoint: toKeypathLayerPoint,\n          fromKeypathLayerPoint: fromKeypathLayerPoint\n        };\n        return Object.assign({}, Renderer(state), methods);\n      }\n      module.exports = AnimationItemFactory;\n    }, {\n      \"../helpers/layerAPIBuilder\": 6,\n      \"../renderer/Renderer\": 42\n    }],\n    2: [function (require, module, exports) {\n      'use strict';\n\n      module.exports = ',';\n    }, {}],\n    3: [function (require, module, exports) {\n      'use strict';\n\n      module.exports = {\n        0: 0,\n        1: 1,\n        2: 2,\n        3: 3,\n        4: 4,\n        5: 5,\n        13: 13,\n        'comp': 0,\n        'composition': 0,\n        'solid': 1,\n        'image': 2,\n        'null': 3,\n        'shape': 4,\n        'text': 5,\n        'camera': 13\n      };\n    }, {}],\n    4: [function (require, module, exports) {\n      'use strict';\n\n      module.exports = {\n        LAYER_TRANSFORM: 'transform'\n      };\n    }, {}],\n    5: [function (require, module, exports) {\n      'use strict';\n\n      var key_path_separator = require('../enums/key_path_separator');\n      var sanitizeString = require('./stringSanitizer');\n      module.exports = function (propertyPath) {\n        var keyPathSplit = propertyPath.split(key_path_separator);\n        var selector = keyPathSplit.shift();\n        return {\n          selector: sanitizeString(selector),\n          propertyPath: keyPathSplit.join(key_path_separator)\n        };\n      };\n    }, {\n      \"../enums/key_path_separator\": 2,\n      \"./stringSanitizer\": 7\n    }],\n    6: [function (require, module, exports) {\n      'use strict';\n\n      var TextElement = require('../layer/text/TextElement');\n      var ShapeElement = require('../layer/shape/Shape');\n      var NullElement = require('../layer/null_element/NullElement');\n      var SolidElement = require('../layer/solid/SolidElement');\n      var ImageElement = require('../layer/image/ImageElement');\n      var CameraElement = require('../layer/camera/Camera');\n      var LayerBase = require('../layer/LayerBase');\n      module.exports = function getLayerApi(element, parent) {\n        var layerType = element.data.ty;\n        var Composition = require('../layer/composition/Composition');\n        switch (layerType) {\n          case 0:\n            return Composition(element, parent);\n          case 1:\n            return SolidElement(element, parent);\n          case 2:\n            return ImageElement(element, parent);\n          case 3:\n            return NullElement(element, parent);\n          case 4:\n            return ShapeElement(element, parent, element.data.shapes, element.itemsData);\n          case 5:\n            return TextElement(element, parent);\n          case 13:\n            return CameraElement(element, parent);\n          default:\n            return LayerBase(element, parent);\n        }\n      };\n    }, {\n      \"../layer/LayerBase\": 13,\n      \"../layer/camera/Camera\": 15,\n      \"../layer/composition/Composition\": 16,\n      \"../layer/image/ImageElement\": 20,\n      \"../layer/null_element/NullElement\": 21,\n      \"../layer/shape/Shape\": 22,\n      \"../layer/solid/SolidElement\": 35,\n      \"../layer/text/TextElement\": 38\n    }],\n    7: [function (require, module, exports) {\n      \"use strict\";\n\n      function sanitizeString(string) {\n        return string.trim();\n      }\n      module.exports = sanitizeString;\n    }, {}],\n    8: [function (require, module, exports) {\n      'use strict';\n\n      var createTypedArray = require('./typedArrays');\n\n      /*!\r\n       Transformation Matrix v2.0\r\n       (c) Epistemex 2014-2015\r\n       www.epistemex.com\r\n       By Ken Fyrstenberg\r\n       Contributions by leeoniya.\r\n       License: MIT, header required.\r\n       */\n\n      /**\r\n       * 2D transformation matrix object initialized with identity matrix.\r\n       *\r\n       * The matrix can synchronize a canvas context by supplying the context\r\n       * as an argument, or later apply current absolute transform to an\r\n       * existing context.\r\n       *\r\n       * All values are handled as floating point values.\r\n       *\r\n       * @param {CanvasRenderingContext2D} [context] - Optional context to sync with Matrix\r\n       * @prop {number} a - scale x\r\n       * @prop {number} b - shear y\r\n       * @prop {number} c - shear x\r\n       * @prop {number} d - scale y\r\n       * @prop {number} e - translate x\r\n       * @prop {number} f - translate y\r\n       * @prop {CanvasRenderingContext2D|null} [context=null] - set or get current canvas context\r\n       * @constructor\r\n       */\n\n      var Matrix = function () {\n        var _cos = Math.cos;\n        var _sin = Math.sin;\n        var _tan = Math.tan;\n        var _rnd = Math.round;\n        function reset() {\n          this.props[0] = 1;\n          this.props[1] = 0;\n          this.props[2] = 0;\n          this.props[3] = 0;\n          this.props[4] = 0;\n          this.props[5] = 1;\n          this.props[6] = 0;\n          this.props[7] = 0;\n          this.props[8] = 0;\n          this.props[9] = 0;\n          this.props[10] = 1;\n          this.props[11] = 0;\n          this.props[12] = 0;\n          this.props[13] = 0;\n          this.props[14] = 0;\n          this.props[15] = 1;\n          return this;\n        }\n        function rotate(angle) {\n          if (angle === 0) {\n            return this;\n          }\n          var mCos = _cos(angle);\n          var mSin = _sin(angle);\n          return this._t(mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\n        }\n        function rotateX(angle) {\n          if (angle === 0) {\n            return this;\n          }\n          var mCos = _cos(angle);\n          var mSin = _sin(angle);\n          return this._t(1, 0, 0, 0, 0, mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1);\n        }\n        function rotateY(angle) {\n          if (angle === 0) {\n            return this;\n          }\n          var mCos = _cos(angle);\n          var mSin = _sin(angle);\n          return this._t(mCos, 0, mSin, 0, 0, 1, 0, 0, -mSin, 0, mCos, 0, 0, 0, 0, 1);\n        }\n        function rotateZ(angle) {\n          if (angle === 0) {\n            return this;\n          }\n          var mCos = _cos(angle);\n          var mSin = _sin(angle);\n          return this._t(mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\n        }\n        function shear(sx, sy) {\n          return this._t(1, sy, sx, 1, 0, 0);\n        }\n        function skew(ax, ay) {\n          return this.shear(_tan(ax), _tan(ay));\n        }\n        function skewFromAxis(ax, angle) {\n          var mCos = _cos(angle);\n          var mSin = _sin(angle);\n          return this._t(mCos, mSin, 0, 0, -mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)._t(1, 0, 0, 0, _tan(ax), 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)._t(mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\n          //return this._t(mCos, mSin, -mSin, mCos, 0, 0)._t(1, 0, _tan(ax), 1, 0, 0)._t(mCos, -mSin, mSin, mCos, 0, 0);\n        }\n        function scale(sx, sy, sz) {\n          sz = isNaN(sz) ? 1 : sz;\n          if (sx == 1 && sy == 1 && sz == 1) {\n            return this;\n          }\n          return this._t(sx, 0, 0, 0, 0, sy, 0, 0, 0, 0, sz, 0, 0, 0, 0, 1);\n        }\n        function setTransform(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p) {\n          this.props[0] = a;\n          this.props[1] = b;\n          this.props[2] = c;\n          this.props[3] = d;\n          this.props[4] = e;\n          this.props[5] = f;\n          this.props[6] = g;\n          this.props[7] = h;\n          this.props[8] = i;\n          this.props[9] = j;\n          this.props[10] = k;\n          this.props[11] = l;\n          this.props[12] = m;\n          this.props[13] = n;\n          this.props[14] = o;\n          this.props[15] = p;\n          return this;\n        }\n        function translate(tx, ty, tz) {\n          tz = tz || 0;\n          if (tx !== 0 || ty !== 0 || tz !== 0) {\n            return this._t(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, tx, ty, tz, 1);\n          }\n          return this;\n        }\n        function transform(a2, b2, c2, d2, e2, f2, g2, h2, i2, j2, k2, l2, m2, n2, o2, p2) {\n          var _p = this.props;\n          if (a2 === 1 && b2 === 0 && c2 === 0 && d2 === 0 && e2 === 0 && f2 === 1 && g2 === 0 && h2 === 0 && i2 === 0 && j2 === 0 && k2 === 1 && l2 === 0) {\n            //NOTE: commenting this condition because TurboFan deoptimizes code when present\n            //if(m2 !== 0 || n2 !== 0 || o2 !== 0){\n            _p[12] = _p[12] * a2 + _p[15] * m2;\n            _p[13] = _p[13] * f2 + _p[15] * n2;\n            _p[14] = _p[14] * k2 + _p[15] * o2;\n            _p[15] = _p[15] * p2;\n            //}\n            this._identityCalculated = false;\n            return this;\n          }\n          var a1 = _p[0];\n          var b1 = _p[1];\n          var c1 = _p[2];\n          var d1 = _p[3];\n          var e1 = _p[4];\n          var f1 = _p[5];\n          var g1 = _p[6];\n          var h1 = _p[7];\n          var i1 = _p[8];\n          var j1 = _p[9];\n          var k1 = _p[10];\n          var l1 = _p[11];\n          var m1 = _p[12];\n          var n1 = _p[13];\n          var o1 = _p[14];\n          var p1 = _p[15];\n\n          /* matrix order (canvas compatible):\r\n           * ace\r\n           * bdf\r\n           * 001\r\n           */\n          _p[0] = a1 * a2 + b1 * e2 + c1 * i2 + d1 * m2;\n          _p[1] = a1 * b2 + b1 * f2 + c1 * j2 + d1 * n2;\n          _p[2] = a1 * c2 + b1 * g2 + c1 * k2 + d1 * o2;\n          _p[3] = a1 * d2 + b1 * h2 + c1 * l2 + d1 * p2;\n          _p[4] = e1 * a2 + f1 * e2 + g1 * i2 + h1 * m2;\n          _p[5] = e1 * b2 + f1 * f2 + g1 * j2 + h1 * n2;\n          _p[6] = e1 * c2 + f1 * g2 + g1 * k2 + h1 * o2;\n          _p[7] = e1 * d2 + f1 * h2 + g1 * l2 + h1 * p2;\n          _p[8] = i1 * a2 + j1 * e2 + k1 * i2 + l1 * m2;\n          _p[9] = i1 * b2 + j1 * f2 + k1 * j2 + l1 * n2;\n          _p[10] = i1 * c2 + j1 * g2 + k1 * k2 + l1 * o2;\n          _p[11] = i1 * d2 + j1 * h2 + k1 * l2 + l1 * p2;\n          _p[12] = m1 * a2 + n1 * e2 + o1 * i2 + p1 * m2;\n          _p[13] = m1 * b2 + n1 * f2 + o1 * j2 + p1 * n2;\n          _p[14] = m1 * c2 + n1 * g2 + o1 * k2 + p1 * o2;\n          _p[15] = m1 * d2 + n1 * h2 + o1 * l2 + p1 * p2;\n          this._identityCalculated = false;\n          return this;\n        }\n        function isIdentity() {\n          if (!this._identityCalculated) {\n            this._identity = !(this.props[0] !== 1 || this.props[1] !== 0 || this.props[2] !== 0 || this.props[3] !== 0 || this.props[4] !== 0 || this.props[5] !== 1 || this.props[6] !== 0 || this.props[7] !== 0 || this.props[8] !== 0 || this.props[9] !== 0 || this.props[10] !== 1 || this.props[11] !== 0 || this.props[12] !== 0 || this.props[13] !== 0 || this.props[14] !== 0 || this.props[15] !== 1);\n            this._identityCalculated = true;\n          }\n          return this._identity;\n        }\n        function equals(matr) {\n          var i = 0;\n          while (i < 16) {\n            if (matr.props[i] !== this.props[i]) {\n              return false;\n            }\n            i += 1;\n          }\n          return true;\n        }\n        function clone(matr) {\n          var i;\n          for (i = 0; i < 16; i += 1) {\n            matr.props[i] = this.props[i];\n          }\n        }\n        function cloneFromProps(props) {\n          var i;\n          for (i = 0; i < 16; i += 1) {\n            this.props[i] = props[i];\n          }\n        }\n        function applyToPoint(x, y, z) {\n          return {\n            x: x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12],\n            y: x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13],\n            z: x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14]\n          };\n          /*return {\r\n           x: x * me.a + y * me.c + me.e,\r\n           y: x * me.b + y * me.d + me.f\r\n           };*/\n        }\n        function applyToX(x, y, z) {\n          return x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12];\n        }\n        function applyToY(x, y, z) {\n          return x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13];\n        }\n        function applyToZ(x, y, z) {\n          return x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14];\n        }\n        function inversePoint(pt) {\n          var determinant = this.props[0] * this.props[5] - this.props[1] * this.props[4];\n          var a = this.props[5] / determinant;\n          var b = -this.props[1] / determinant;\n          var c = -this.props[4] / determinant;\n          var d = this.props[0] / determinant;\n          var e = (this.props[4] * this.props[13] - this.props[5] * this.props[12]) / determinant;\n          var f = -(this.props[0] * this.props[13] - this.props[1] * this.props[12]) / determinant;\n          return [pt[0] * a + pt[1] * c + e, pt[0] * b + pt[1] * d + f, 0];\n        }\n        function inversePoints(pts) {\n          var i,\n            len = pts.length,\n            retPts = [];\n          for (i = 0; i < len; i += 1) {\n            retPts[i] = inversePoint(pts[i]);\n          }\n          return retPts;\n        }\n        function applyToTriplePoints(pt1, pt2, pt3) {\n          var arr = createTypedArray('float32', 6);\n          if (this.isIdentity()) {\n            arr[0] = pt1[0];\n            arr[1] = pt1[1];\n            arr[2] = pt2[0];\n            arr[3] = pt2[1];\n            arr[4] = pt3[0];\n            arr[5] = pt3[1];\n          } else {\n            var p0 = this.props[0],\n              p1 = this.props[1],\n              p4 = this.props[4],\n              p5 = this.props[5],\n              p12 = this.props[12],\n              p13 = this.props[13];\n            arr[0] = pt1[0] * p0 + pt1[1] * p4 + p12;\n            arr[1] = pt1[0] * p1 + pt1[1] * p5 + p13;\n            arr[2] = pt2[0] * p0 + pt2[1] * p4 + p12;\n            arr[3] = pt2[0] * p1 + pt2[1] * p5 + p13;\n            arr[4] = pt3[0] * p0 + pt3[1] * p4 + p12;\n            arr[5] = pt3[0] * p1 + pt3[1] * p5 + p13;\n          }\n          return arr;\n        }\n        function applyToPointArray(x, y, z) {\n          var arr;\n          if (this.isIdentity()) {\n            arr = [x, y, z];\n          } else {\n            arr = [x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12], x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13], x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14]];\n          }\n          return arr;\n        }\n        function applyToPointStringified(x, y) {\n          if (this.isIdentity()) {\n            return x + ',' + y;\n          }\n          return x * this.props[0] + y * this.props[4] + this.props[12] + ',' + (x * this.props[1] + y * this.props[5] + this.props[13]);\n        }\n        function toCSS() {\n          //Doesn't make much sense to add this optimization. If it is an identity matrix, it's very likely this will get called only once since it won't be keyframed.\n          /*if(this.isIdentity()) {\r\n              return '';\r\n          }*/\n          var i = 0;\n          var props = this.props;\n          var cssValue = 'matrix3d(';\n          var v = 10000;\n          while (i < 16) {\n            cssValue += _rnd(props[i] * v) / v;\n            cssValue += i === 15 ? ')' : ',';\n            i += 1;\n          }\n          return cssValue;\n        }\n        function to2dCSS() {\n          //Doesn't make much sense to add this optimization. If it is an identity matrix, it's very likely this will get called only once since it won't be keyframed.\n          /*if(this.isIdentity()) {\r\n              return '';\r\n          }*/\n          var v = 10000;\n          var props = this.props;\n          return \"matrix(\" + _rnd(props[0] * v) / v + ',' + _rnd(props[1] * v) / v + ',' + _rnd(props[4] * v) / v + ',' + _rnd(props[5] * v) / v + ',' + _rnd(props[12] * v) / v + ',' + _rnd(props[13] * v) / v + \")\";\n        }\n        function MatrixInstance() {\n          this.reset = reset;\n          this.rotate = rotate;\n          this.rotateX = rotateX;\n          this.rotateY = rotateY;\n          this.rotateZ = rotateZ;\n          this.skew = skew;\n          this.skewFromAxis = skewFromAxis;\n          this.shear = shear;\n          this.scale = scale;\n          this.setTransform = setTransform;\n          this.translate = translate;\n          this.transform = transform;\n          this.applyToPoint = applyToPoint;\n          this.applyToX = applyToX;\n          this.applyToY = applyToY;\n          this.applyToZ = applyToZ;\n          this.applyToPointArray = applyToPointArray;\n          this.applyToTriplePoints = applyToTriplePoints;\n          this.applyToPointStringified = applyToPointStringified;\n          this.toCSS = toCSS;\n          this.to2dCSS = to2dCSS;\n          this.clone = clone;\n          this.cloneFromProps = cloneFromProps;\n          this.equals = equals;\n          this.inversePoints = inversePoints;\n          this.inversePoint = inversePoint;\n          this._t = this.transform;\n          this.isIdentity = isIdentity;\n          this._identity = true;\n          this._identityCalculated = false;\n          this.props = createTypedArray('float32', 16);\n          this.reset();\n        }\n        ;\n        return function () {\n          return new MatrixInstance();\n        };\n      }();\n      module.exports = Matrix;\n    }, {\n      \"./typedArrays\": 9\n    }],\n    9: [function (require, module, exports) {\n      'use strict';\n\n      var createTypedArray = function () {\n        function createRegularArray(type, len) {\n          var i = 0,\n            arr = [],\n            value;\n          switch (type) {\n            case 'int16':\n            case 'uint8c':\n              value = 1;\n              break;\n            default:\n              value = 1.1;\n              break;\n          }\n          for (i = 0; i < len; i += 1) {\n            arr.push(value);\n          }\n          return arr;\n        }\n        function createTypedArray(type, len) {\n          if (type === 'float32') {\n            return new Float32Array(len);\n          } else if (type === 'int16') {\n            return new Int16Array(len);\n          } else if (type === 'uint8c') {\n            return new Uint8ClampedArray(len);\n          }\n        }\n        if (typeof Uint8ClampedArray === 'function' && typeof Float32Array === 'function') {\n          return createTypedArray;\n        } else {\n          return createRegularArray;\n        }\n      }();\n      module.exports = createTypedArray;\n    }, {}],\n    10: [function (require, module, exports) {\n      'use strict';\n\n      var AnimationItem = require('./animation/AnimationItem');\n      function createAnimationApi(anim) {\n        return Object.assign({}, AnimationItem(anim));\n      }\n      module.exports = {\n        createAnimationApi: createAnimationApi\n      };\n    }, {\n      \"./animation/AnimationItem\": 1\n    }],\n    11: [function (require, module, exports) {\n      'use strict';\n\n      var keyPathBuilder = require('../helpers/keyPathBuilder');\n      var layer_types = require('../enums/layer_types');\n      function KeyPathList(elements, node_type) {\n        function _getLength() {\n          return elements.length;\n        }\n        function _filterLayerByType(elements, type) {\n          return elements.filter(function (element) {\n            return element.getTargetLayer().data.ty === layer_types[type];\n          });\n        }\n        function _filterLayerByName(elements, name) {\n          return elements.filter(function (element) {\n            return element.getTargetLayer().data.nm === name;\n          });\n        }\n        function _filterLayerByProperty(elements, name) {\n          return elements.filter(function (element) {\n            if (element.hasProperty(name)) {\n              return element.getProperty(name);\n            }\n            return false;\n          });\n        }\n        function getLayersByType(selector) {\n          return KeyPathList(_filterLayerByType(elements, selector), 'layer');\n        }\n        function getLayersByName(selector) {\n          return KeyPathList(_filterLayerByName(elements, selector), 'layer');\n        }\n        function getPropertiesBySelector(selector) {\n          return KeyPathList(elements.filter(function (element) {\n            return element.hasProperty(selector);\n          }).map(function (element) {\n            return element.getProperty(selector);\n          }), 'property');\n        }\n        function getLayerProperty(selector) {\n          var layers = _filterLayerByProperty(elements, selector);\n          var properties = layers.map(function (element) {\n            return element.getProperty(selector);\n          });\n          return KeyPathList(properties, 'property');\n        }\n        function getKeyPath(propertyPath) {\n          var keyPathData = keyPathBuilder(propertyPath);\n          var selector = keyPathData.selector;\n          var nodesByName, nodesByType, selectedNodes;\n          if (node_type === 'renderer' || node_type === 'layer') {\n            nodesByName = getLayersByName(selector);\n            nodesByType = getLayersByType(selector);\n            if (nodesByName.length === 0 && nodesByType.length === 0) {\n              selectedNodes = getLayerProperty(selector);\n            } else {\n              selectedNodes = nodesByName.concat(nodesByType);\n            }\n            if (keyPathData.propertyPath) {\n              return selectedNodes.getKeyPath(keyPathData.propertyPath);\n            } else {\n              return selectedNodes;\n            }\n          } else if (node_type === 'property') {\n            selectedNodes = getPropertiesBySelector(selector);\n            if (keyPathData.propertyPath) {\n              return selectedNodes.getKeyPath(keyPathData.propertyPath);\n            } else {\n              return selectedNodes;\n            }\n          }\n        }\n        function concat(nodes) {\n          var nodesElements = nodes.getElements();\n          return KeyPathList(elements.concat(nodesElements), node_type);\n        }\n        function getElements() {\n          return elements;\n        }\n        function getPropertyAtIndex(index) {\n          return elements[index];\n        }\n        var methods = {\n          getKeyPath: getKeyPath,\n          concat: concat,\n          getElements: getElements,\n          getPropertyAtIndex: getPropertyAtIndex\n        };\n        Object.defineProperty(methods, 'length', {\n          get: _getLength\n        });\n        return methods;\n      }\n      module.exports = KeyPathList;\n    }, {\n      \"../enums/layer_types\": 3,\n      \"../helpers/keyPathBuilder\": 5\n    }],\n    12: [function (require, module, exports) {\n      'use strict';\n\n      var key_path_separator = require('../enums/key_path_separator');\n      var property_names = require('../enums/property_names');\n      function KeyPathNode(state) {\n        function getPropertyByPath(selector, propertyPath) {\n          var instanceProperties = state.properties || [];\n          var i = 0,\n            len = instanceProperties.length;\n          while (i < len) {\n            if (instanceProperties[i].name === selector) {\n              return instanceProperties[i].value;\n            }\n            i += 1;\n          }\n          return null;\n        }\n        function hasProperty(selector) {\n          return !!getPropertyByPath(selector);\n        }\n        function getProperty(selector) {\n          return getPropertyByPath(selector);\n        }\n        function fromKeypathLayerPoint(point) {\n          return state.parent.fromKeypathLayerPoint(point);\n        }\n        function toKeypathLayerPoint(point) {\n          return state.parent.toKeypathLayerPoint(point);\n        }\n        var methods = {\n          hasProperty: hasProperty,\n          getProperty: getProperty,\n          fromKeypathLayerPoint: fromKeypathLayerPoint,\n          toKeypathLayerPoint: toKeypathLayerPoint\n        };\n        return methods;\n      }\n      module.exports = KeyPathNode;\n    }, {\n      \"../enums/key_path_separator\": 2,\n      \"../enums/property_names\": 4\n    }],\n    13: [function (require, module, exports) {\n      'use strict';\n\n      var KeyPathNode = require('../key_path/KeyPathNode');\n      var Transform = require('./transform/Transform');\n      var Effects = require('./effects/Effects');\n      var Matrix = require('../helpers/transformationMatrix');\n      function LayerBase(state) {\n        var transform = Transform(state.element.finalTransform.mProp, state);\n        var effects = Effects(state.element.effectsManager.effectElements || [], state);\n        function _buildPropertyMap() {\n          state.properties.push({\n            name: 'transform',\n            value: transform\n          }, {\n            name: 'Transform',\n            value: transform\n          }, {\n            name: 'Effects',\n            value: effects\n          }, {\n            name: 'effects',\n            value: effects\n          });\n        }\n        function getElementToPoint(point) {}\n        function toKeypathLayerPoint(point) {\n          var element = state.element;\n          if (state.parent.toKeypathLayerPoint) {\n            point = state.parent.toKeypathLayerPoint(point);\n          }\n          var toWorldMat = Matrix();\n          var transformMat = state.getProperty('Transform').getTargetTransform();\n          transformMat.applyToMatrix(toWorldMat);\n          if (element.hierarchy && element.hierarchy.length) {\n            var i,\n              len = element.hierarchy.length;\n            for (i = 0; i < len; i += 1) {\n              element.hierarchy[i].finalTransform.mProp.applyToMatrix(toWorldMat);\n            }\n          }\n          return toWorldMat.inversePoint(point);\n        }\n        function fromKeypathLayerPoint(point) {\n          var element = state.element;\n          var toWorldMat = Matrix();\n          var transformMat = state.getProperty('Transform').getTargetTransform();\n          transformMat.applyToMatrix(toWorldMat);\n          if (element.hierarchy && element.hierarchy.length) {\n            var i,\n              len = element.hierarchy.length;\n            for (i = 0; i < len; i += 1) {\n              element.hierarchy[i].finalTransform.mProp.applyToMatrix(toWorldMat);\n            }\n          }\n          point = toWorldMat.applyToPointArray(point[0], point[1], point[2] || 0);\n          if (state.parent.fromKeypathLayerPoint) {\n            return state.parent.fromKeypathLayerPoint(point);\n          } else {\n            return point;\n          }\n        }\n        function getTargetLayer() {\n          return state.element;\n        }\n        var methods = {\n          getTargetLayer: getTargetLayer,\n          toKeypathLayerPoint: toKeypathLayerPoint,\n          fromKeypathLayerPoint: fromKeypathLayerPoint\n        };\n        _buildPropertyMap();\n        return Object.assign(state, KeyPathNode(state), methods);\n      }\n      module.exports = LayerBase;\n    }, {\n      \"../helpers/transformationMatrix\": 8,\n      \"../key_path/KeyPathNode\": 12,\n      \"./effects/Effects\": 19,\n      \"./transform/Transform\": 39\n    }],\n    14: [function (require, module, exports) {\n      'use strict';\n\n      var layer_types = require('../enums/layer_types');\n      var layer_api = require('../helpers/layerAPIBuilder');\n      function LayerList(elements) {\n        function _getLength() {\n          return elements.length;\n        }\n        function _filterLayerByType(elements, type) {\n          return elements.filter(function (element) {\n            return element.data.ty === layer_types[type];\n          });\n        }\n        function _filterLayerByName(elements, name) {\n          return elements.filter(function (element) {\n            return element.data.nm === name;\n          });\n        }\n        function getLayers() {\n          return LayerList(elements);\n        }\n        function getLayersByType(type) {\n          var elementsList = _filterLayerByType(elements, type);\n          return LayerList(elementsList);\n        }\n        function getLayersByName(type) {\n          var elementsList = _filterLayerByName(elements, type);\n          return LayerList(elementsList);\n        }\n        function layer(index) {\n          if (index >= elements.length) {\n            return [];\n          }\n          return layer_api(elements[parseInt(index)]);\n        }\n        function addIteratableMethods(iteratableMethods, list) {\n          iteratableMethods.reduce(function (accumulator, value) {\n            var _value = value;\n            accumulator[value] = function () {\n              var _arguments = arguments;\n              return elements.map(function (element) {\n                var layer = layer_api(element);\n                if (layer[_value]) {\n                  return layer[_value].apply(null, _arguments);\n                }\n                return null;\n              });\n            };\n            return accumulator;\n          }, methods);\n        }\n        function getTargetElements() {\n          return elements;\n        }\n        function concat(list) {\n          return elements.concat(list.getTargetElements());\n        }\n        var methods = {\n          getLayers: getLayers,\n          getLayersByType: getLayersByType,\n          getLayersByName: getLayersByName,\n          layer: layer,\n          concat: concat,\n          getTargetElements: getTargetElements\n        };\n        addIteratableMethods(['setTranslate', 'getType', 'getDuration']);\n        addIteratableMethods(['setText', 'getText', 'setDocumentData', 'canResizeFont', 'setMinimumFontSize']);\n        Object.defineProperty(methods, 'length', {\n          get: _getLength\n        });\n        return methods;\n      }\n      module.exports = LayerList;\n    }, {\n      \"../enums/layer_types\": 3,\n      \"../helpers/layerAPIBuilder\": 6\n    }],\n    15: [function (require, module, exports) {\n      'use strict';\n\n      var KeyPathNode = require('../../key_path/KeyPathNode');\n      var Property = require('../../property/Property');\n      function Camera(element, parent) {\n        var instance = {};\n        var state = {\n          element: element,\n          parent: parent,\n          properties: _buildPropertyMap()\n        };\n        function _buildPropertyMap() {\n          return [{\n            name: 'Point of Interest',\n            value: Property(element.a, parent)\n          }, {\n            name: 'Zoom',\n            value: Property(element.pe, parent)\n          }, {\n            name: 'Position',\n            value: Property(element.p, parent)\n          }, {\n            name: 'X Rotation',\n            value: Property(element.rx, parent)\n          }, {\n            name: 'Y Rotation',\n            value: Property(element.ry, parent)\n          }, {\n            name: 'Z Rotation',\n            value: Property(element.rz, parent)\n          }, {\n            name: 'Orientation',\n            value: Property(element.or, parent)\n          }];\n        }\n        function getTargetLayer() {\n          return state.element;\n        }\n        var methods = {\n          getTargetLayer: getTargetLayer\n        };\n        return Object.assign(instance, KeyPathNode(state), methods);\n      }\n      module.exports = Camera;\n    }, {\n      \"../../key_path/KeyPathNode\": 12,\n      \"../../property/Property\": 40\n    }],\n    16: [function (require, module, exports) {\n      'use strict';\n\n      var KeyPathList = require('../../key_path/KeyPathList');\n      var LayerBase = require('../LayerBase');\n      var layer_api = require('../../helpers/layerAPIBuilder');\n      var Property = require('../../property/Property');\n      var TimeRemap = require('./TimeRemap');\n      function Composition(element, parent) {\n        var instance = {};\n        var state = {\n          element: element,\n          parent: parent,\n          properties: _buildPropertyMap()\n        };\n        function buildLayerApi(layer, index) {\n          var _layerApi = null;\n          var ob = {\n            name: layer.nm\n          };\n          function getLayerApi() {\n            if (!_layerApi) {\n              _layerApi = layer_api(element.elements[index], state);\n            }\n            return _layerApi;\n          }\n          Object.defineProperty(ob, 'value', {\n            get: getLayerApi\n          });\n          return ob;\n        }\n        function _buildPropertyMap() {\n          var compositionLayers = element.layers.map(buildLayerApi);\n          return [{\n            name: 'Time Remap',\n            value: TimeRemap(element.tm)\n          }].concat(compositionLayers);\n        }\n        var methods = {};\n        return Object.assign(instance, LayerBase(state), KeyPathList(state.elements, 'layer'), methods);\n      }\n      module.exports = Composition;\n    }, {\n      \"../../helpers/layerAPIBuilder\": 6,\n      \"../../key_path/KeyPathList\": 11,\n      \"../../property/Property\": 40,\n      \"../LayerBase\": 13,\n      \"./TimeRemap\": 17\n    }],\n    17: [function (require, module, exports) {\n      'use strict';\n\n      var KeyPathNode = require('../../key_path/KeyPathNode');\n      var ValueProperty = require('../../property/ValueProperty');\n      function TimeRemap(property, parent) {\n        var state = {\n          property: property,\n          parent: parent\n        };\n        var _isCallbackAdded = false;\n        var currentSegmentInit = 0;\n        var currentSegmentEnd = 0;\n        var previousTime = 0,\n          currentTime = 0;\n        var initTime = 0;\n        var _loop = true;\n        var _loopCount = 0;\n        var _speed = 1;\n        var _paused = false;\n        var _isDebugging = false;\n        var queuedSegments = [];\n        var _destroyFunction;\n        var enterFrameCallback = null;\n        var enterFrameEvent = {\n          time: -1\n        };\n        function playSegment(init, end, clear) {\n          _paused = false;\n          if (clear) {\n            clearQueue();\n            currentTime = init;\n          }\n          if (_isDebugging) {\n            console.log(init, end);\n          }\n          _loopCount = 0;\n          previousTime = Date.now();\n          currentSegmentInit = init;\n          currentSegmentEnd = end;\n          addCallback();\n        }\n        function playQueuedSegment() {\n          var newSegment = queuedSegments.shift();\n          playSegment(newSegment[0], newSegment[1]);\n        }\n        function queueSegment(init, end) {\n          queuedSegments.push([init, end]);\n        }\n        function clearQueue() {\n          queuedSegments.length = 0;\n        }\n        function _segmentPlayer(currentValue) {\n          if (currentSegmentInit === currentSegmentEnd) {\n            currentTime = currentSegmentInit;\n          } else if (!_paused) {\n            var nowTime = Date.now();\n            var elapsedTime = _speed * (nowTime - previousTime) / 1000;\n            previousTime = nowTime;\n            if (currentSegmentInit < currentSegmentEnd) {\n              currentTime += elapsedTime;\n              if (currentTime > currentSegmentEnd) {\n                _loopCount += 1;\n                if (queuedSegments.length) {\n                  playQueuedSegment();\n                } else if (!_loop) {\n                  currentTime = currentSegmentEnd;\n                } else {\n                  /*currentTime -= Math.floor(currentTime / (currentSegmentEnd - currentSegmentInit)) * (currentSegmentEnd - currentSegmentInit);\r\n                  currentTime = currentSegmentInit + currentTime;*/\n                  currentTime = currentTime % (currentSegmentEnd - currentSegmentInit);\n                  //currentTime = currentSegmentInit + (currentTime);\n                  //currentTime = currentSegmentInit + (currentTime - currentSegmentEnd);\n                  //console.log('CT: ', currentTime) \n                }\n              }\n            } else {\n              currentTime -= elapsedTime;\n              if (currentTime < currentSegmentEnd) {\n                _loopCount += 1;\n                if (queuedSegments.length) {\n                  playQueuedSegment();\n                } else if (!_loop) {\n                  currentTime = currentSegmentEnd;\n                } else {\n                  currentTime = currentSegmentInit - (currentSegmentEnd - currentTime);\n                }\n              }\n            }\n            if (_isDebugging) {\n              console.log(currentTime);\n            }\n          }\n          if (instance.onEnterFrame && enterFrameEvent.time !== currentTime) {\n            enterFrameEvent.time = currentTime;\n            instance.onEnterFrame(enterFrameEvent);\n          }\n          return currentTime;\n        }\n        function addCallback() {\n          if (!_isCallbackAdded) {\n            _isCallbackAdded = true;\n            _destroyFunction = instance.setValue(_segmentPlayer, _isDebugging);\n          }\n        }\n        function playTo(end, clear) {\n          _paused = false;\n          if (clear) {\n            clearQueue();\n          }\n          addCallback();\n          currentSegmentEnd = end;\n        }\n        function getCurrentTime() {\n          if (_isCallbackAdded) {\n            return currentTime;\n          } else {\n            return property.v / property.mult;\n          }\n        }\n        function setLoop(flag) {\n          _loop = flag;\n        }\n        function setSpeed(value) {\n          _speed = value;\n        }\n        function setDebugging(flag) {\n          _isDebugging = flag;\n        }\n        function pause() {\n          _paused = true;\n        }\n        function destroy() {\n          if (_destroyFunction) {\n            _destroyFunction();\n            state.property = null;\n            state.parent = null;\n          }\n        }\n        var methods = {\n          playSegment: playSegment,\n          playTo: playTo,\n          queueSegment: queueSegment,\n          clearQueue: clearQueue,\n          setLoop: setLoop,\n          setSpeed: setSpeed,\n          pause: pause,\n          setDebugging: setDebugging,\n          getCurrentTime: getCurrentTime,\n          onEnterFrame: null,\n          destroy: destroy\n        };\n        var instance = {};\n        return Object.assign(instance, methods, ValueProperty(state), KeyPathNode(state));\n      }\n      module.exports = TimeRemap;\n    }, {\n      \"../../key_path/KeyPathNode\": 12,\n      \"../../property/ValueProperty\": 41\n    }],\n    18: [function (require, module, exports) {\n      'use strict';\n\n      var Property = require('../../property/Property');\n      function EffectElement(effect, parent) {\n        return Property(effect.p, parent);\n      }\n      module.exports = EffectElement;\n    }, {\n      \"../../property/Property\": 40\n    }],\n    19: [function (require, module, exports) {\n      'use strict';\n\n      var KeyPathNode = require('../../key_path/KeyPathNode');\n      var Property = require('../../property/Property');\n      var EffectElement = require('./EffectElement');\n      function Effects(effects, parent) {\n        var state = {\n          parent: parent,\n          properties: buildProperties()\n        };\n        function getValue(effectData, index) {\n          var nm = effectData.data ? effectData.data.nm : index.toString();\n          var effectElement = effectData.data ? Effects(effectData.effectElements, parent) : Property(effectData.p, parent);\n          return {\n            name: nm,\n            value: effectElement\n          };\n        }\n        function buildProperties() {\n          var i,\n            len = effects.length;\n          var arr = [];\n          for (i = 0; i < len; i += 1) {\n            arr.push(getValue(effects[i], i));\n          }\n          return arr;\n        }\n        var methods = {};\n        return Object.assign(methods, KeyPathNode(state));\n      }\n      module.exports = Effects;\n    }, {\n      \"../../key_path/KeyPathNode\": 12,\n      \"../../property/Property\": 40,\n      \"./EffectElement\": 18\n    }],\n    20: [function (require, module, exports) {\n      'use strict';\n\n      var LayerBase = require('../LayerBase');\n      function Image(element) {\n        var state = {\n          element: element,\n          parent: parent,\n          properties: _buildPropertyMap()\n        };\n        function _buildPropertyMap() {\n          return [];\n        }\n        var methods = {};\n        return Object.assign({}, LayerBase(state), methods);\n      }\n      module.exports = Image;\n    }, {\n      \"../LayerBase\": 13\n    }],\n    21: [function (require, module, exports) {\n      'use strict';\n\n      var LayerBase = require('../LayerBase');\n      function NullElement(element, parent) {\n        var instance = {};\n        var state = {\n          element: element,\n          parent: parent,\n          properties: _buildPropertyMap()\n        };\n        function _buildPropertyMap() {\n          return [];\n        }\n        var methods = {};\n        return Object.assign(instance, LayerBase(state), methods);\n      }\n      module.exports = NullElement;\n    }, {\n      \"../LayerBase\": 13\n    }],\n    22: [function (require, module, exports) {\n      'use strict';\n\n      var LayerBase = require('../LayerBase');\n      var ShapeContents = require('./ShapeContents');\n      function Shape(element, parent) {\n        var state = {\n          properties: [],\n          parent: parent,\n          element: element\n        };\n        var shapeContents = ShapeContents(element.data.shapes, element.itemsData, state);\n        function _buildPropertyMap() {\n          state.properties.push({\n            name: 'Contents',\n            value: shapeContents\n          });\n        }\n        var methods = {};\n        _buildPropertyMap();\n        return Object.assign(state, LayerBase(state), methods);\n      }\n      module.exports = Shape;\n    }, {\n      \"../LayerBase\": 13,\n      \"./ShapeContents\": 23\n    }],\n    23: [function (require, module, exports) {\n      'use strict';\n\n      var KeyPathNode = require('../../key_path/KeyPathNode');\n      var Property = require('../../property/Property');\n      var ShapeRectangle = require('./ShapeRectangle');\n      var ShapeFill = require('./ShapeFill');\n      var ShapeStroke = require('./ShapeStroke');\n      var ShapeEllipse = require('./ShapeEllipse');\n      var ShapeGradientFill = require('./ShapeGradientFill');\n      var ShapeGradientStroke = require('./ShapeGradientStroke');\n      var ShapeTrimPaths = require('./ShapeTrimPaths');\n      var ShapeRepeater = require('./ShapeRepeater');\n      var ShapePolystar = require('./ShapePolystar');\n      var ShapeRoundCorners = require('./ShapeRoundCorners');\n      var ShapePath = require('./ShapePath');\n      var Transform = require('../transform/Transform');\n      var Matrix = require('../../helpers/transformationMatrix');\n      function ShapeContents(shapesData, shapes, parent) {\n        var state = {\n          properties: _buildPropertyMap(),\n          parent: parent\n        };\n        var cachedShapeProperties = [];\n        function buildShapeObject(shape, index) {\n          var ob = {\n            name: shape.nm\n          };\n          Object.defineProperty(ob, 'value', {\n            get: function get() {\n              if (cachedShapeProperties[index]) {\n                return cachedShapeProperties[index];\n              } else {\n                var property;\n              }\n              if (shape.ty === 'gr') {\n                property = ShapeContents(shapesData[index].it, shapes[index].it, state);\n              } else if (shape.ty === 'rc') {\n                property = ShapeRectangle(shapes[index], state);\n              } else if (shape.ty === 'el') {\n                property = ShapeEllipse(shapes[index], state);\n              } else if (shape.ty === 'fl') {\n                property = ShapeFill(shapes[index], state);\n              } else if (shape.ty === 'st') {\n                property = ShapeStroke(shapes[index], state);\n              } else if (shape.ty === 'gf') {\n                property = ShapeGradientFill(shapes[index], state);\n              } else if (shape.ty === 'gs') {\n                property = ShapeGradientStroke(shapes[index], state);\n              } else if (shape.ty === 'tm') {\n                property = ShapeTrimPaths(shapes[index], state);\n              } else if (shape.ty === 'rp') {\n                property = ShapeRepeater(shapes[index], state);\n              } else if (shape.ty === 'sr') {\n                property = ShapePolystar(shapes[index], state);\n              } else if (shape.ty === 'rd') {\n                property = ShapeRoundCorners(shapes[index], state);\n              } else if (shape.ty === 'sh') {\n                property = ShapePath(shapes[index], state);\n              } else if (shape.ty === 'tr') {\n                property = Transform(shapes[index].transform.mProps, state);\n              } else {\n                console.log(shape.ty);\n              }\n              cachedShapeProperties[index] = property;\n              return property;\n            }\n          });\n          return ob;\n        }\n        function _buildPropertyMap() {\n          return shapesData.map(function (shape, index) {\n            return buildShapeObject(shape, index);\n          });\n        }\n        function fromKeypathLayerPoint(point) {\n          if (state.hasProperty('Transform')) {\n            var toWorldMat = Matrix();\n            var transformMat = state.getProperty('Transform').getTargetTransform();\n            transformMat.applyToMatrix(toWorldMat);\n            point = toWorldMat.applyToPointArray(point[0], point[1], point[2] || 0);\n          }\n          return state.parent.fromKeypathLayerPoint(point);\n        }\n        function toKeypathLayerPoint(point) {\n          point = state.parent.toKeypathLayerPoint(point);\n          if (state.hasProperty('Transform')) {\n            var toWorldMat = Matrix();\n            var transformMat = state.getProperty('Transform').getTargetTransform();\n            transformMat.applyToMatrix(toWorldMat);\n            point = toWorldMat.inversePoint(point);\n          }\n          return point;\n        }\n        var methods = {\n          fromKeypathLayerPoint: fromKeypathLayerPoint,\n          toKeypathLayerPoint: toKeypathLayerPoint\n\n          //state.properties = _buildPropertyMap();\n        };\n        return Object.assign(state, KeyPathNode(state), methods);\n      }\n      module.exports = ShapeContents;\n    }, {\n      \"../../helpers/transformationMatrix\": 8,\n      \"../../key_path/KeyPathNode\": 12,\n      \"../../property/Property\": 40,\n      \"../transform/Transform\": 39,\n      \"./ShapeEllipse\": 24,\n      \"./ShapeFill\": 25,\n      \"./ShapeGradientFill\": 26,\n      \"./ShapeGradientStroke\": 27,\n      \"./ShapePath\": 28,\n      \"./ShapePolystar\": 29,\n      \"./ShapeRectangle\": 30,\n      \"./ShapeRepeater\": 31,\n      \"./ShapeRoundCorners\": 32,\n      \"./ShapeStroke\": 33,\n      \"./ShapeTrimPaths\": 34\n    }],\n    24: [function (require, module, exports) {\n      'use strict';\n\n      var KeyPathNode = require('../../key_path/KeyPathNode');\n      var Property = require('../../property/Property');\n      function ShapeEllipse(element, parent) {\n        var state = {\n          parent: parent,\n          properties: _buildPropertyMap()\n        };\n        function _buildPropertyMap() {\n          return [{\n            name: 'Size',\n            value: Property(element.sh.s, parent)\n          }, {\n            name: 'Position',\n            value: Property(element.sh.p, parent)\n          }];\n        }\n        var methods = {};\n        return Object.assign(methods, KeyPathNode(state));\n      }\n      module.exports = ShapeEllipse;\n    }, {\n      \"../../key_path/KeyPathNode\": 12,\n      \"../../property/Property\": 40\n    }],\n    25: [function (require, module, exports) {\n      'use strict';\n\n      var KeyPathNode = require('../../key_path/KeyPathNode');\n      var Property = require('../../property/Property');\n      function ShapeFill(element, parent) {\n        var state = {\n          parent: parent,\n          properties: _buildPropertyMap()\n        };\n        function _buildPropertyMap() {\n          return [{\n            name: 'Color',\n            value: Property(element.c, parent)\n          }, {\n            name: 'Opacity',\n            value: {\n              setValue: Property(element.o, parent)\n            }\n          }];\n        }\n        var methods = {};\n        return Object.assign(methods, KeyPathNode(state));\n      }\n      module.exports = ShapeFill;\n    }, {\n      \"../../key_path/KeyPathNode\": 12,\n      \"../../property/Property\": 40\n    }],\n    26: [function (require, module, exports) {\n      'use strict';\n\n      var KeyPathNode = require('../../key_path/KeyPathNode');\n      var Property = require('../../property/Property');\n      function ShapeGradientFill(element, parent) {\n        var state = {\n          parent: parent,\n          properties: _buildPropertyMap()\n        };\n        function _buildPropertyMap() {\n          return [{\n            name: 'Start Point',\n            value: Property(element.s, parent)\n          }, {\n            name: 'End Point',\n            value: Property(element.s, parent)\n          }, {\n            name: 'Opacity',\n            value: Property(element.o, parent)\n          }, {\n            name: 'Highlight Length',\n            value: Property(element.h, parent)\n          }, {\n            name: 'Highlight Angle',\n            value: Property(element.a, parent)\n          }, {\n            name: 'Colors',\n            value: Property(element.g.prop, parent)\n          }];\n        }\n        var methods = {};\n        return Object.assign(methods, KeyPathNode(state));\n      }\n      module.exports = ShapeGradientFill;\n    }, {\n      \"../../key_path/KeyPathNode\": 12,\n      \"../../property/Property\": 40\n    }],\n    27: [function (require, module, exports) {\n      'use strict';\n\n      var KeyPathNode = require('../../key_path/KeyPathNode');\n      var Property = require('../../property/Property');\n      function ShapeGradientStroke(element, parent) {\n        var state = {\n          parent: parent,\n          properties: _buildPropertyMap()\n        };\n        function _buildPropertyMap() {\n          return [{\n            name: 'Start Point',\n            value: Property(element.s, parent)\n          }, {\n            name: 'End Point',\n            value: Property(element.e, parent)\n          }, {\n            name: 'Opacity',\n            value: Property(element.o, parent)\n          }, {\n            name: 'Highlight Length',\n            value: Property(element.h, parent)\n          }, {\n            name: 'Highlight Angle',\n            value: Property(element.a, parent)\n          }, {\n            name: 'Colors',\n            value: Property(element.g.prop, parent)\n          }, {\n            name: 'Stroke Width',\n            value: Property(element.w, parent)\n          }];\n        }\n        var methods = {};\n        return Object.assign(methods, KeyPathNode(state));\n      }\n      module.exports = ShapeGradientStroke;\n    }, {\n      \"../../key_path/KeyPathNode\": 12,\n      \"../../property/Property\": 40\n    }],\n    28: [function (require, module, exports) {\n      'use strict';\n\n      var KeyPathNode = require('../../key_path/KeyPathNode');\n      var Property = require('../../property/Property');\n      function ShapePath(element, parent) {\n        var state = {\n          parent: parent,\n          properties: _buildPropertyMap()\n        };\n        function setPath(value) {\n          Property(element.sh).setValue(value);\n        }\n        function _buildPropertyMap() {\n          return [{\n            name: 'path',\n            value: Property(element.sh, parent)\n          }];\n        }\n        var methods = {};\n        return Object.assign(methods, KeyPathNode(state));\n      }\n      module.exports = ShapePath;\n    }, {\n      \"../../key_path/KeyPathNode\": 12,\n      \"../../property/Property\": 40\n    }],\n    29: [function (require, module, exports) {\n      'use strict';\n\n      var KeyPathNode = require('../../key_path/KeyPathNode');\n      var Property = require('../../property/Property');\n      function ShapePolystar(element, parent) {\n        var state = {\n          parent: parent,\n          properties: _buildPropertyMap()\n        };\n        function _buildPropertyMap() {\n          return [{\n            name: 'Points',\n            value: Property(element.sh.pt, parent)\n          }, {\n            name: 'Position',\n            value: Property(element.sh.p, parent)\n          }, {\n            name: 'Rotation',\n            value: Property(element.sh.r, parent)\n          }, {\n            name: 'Inner Radius',\n            value: Property(element.sh.ir, parent)\n          }, {\n            name: 'Outer Radius',\n            value: Property(element.sh.or, parent)\n          }, {\n            name: 'Inner Roundness',\n            value: Property(element.sh.is, parent)\n          }, {\n            name: 'Outer Roundness',\n            value: Property(element.sh.os, parent)\n          }];\n        }\n        var methods = {};\n        return Object.assign(methods, KeyPathNode(state));\n      }\n      module.exports = ShapePolystar;\n    }, {\n      \"../../key_path/KeyPathNode\": 12,\n      \"../../property/Property\": 40\n    }],\n    30: [function (require, module, exports) {\n      'use strict';\n\n      var KeyPathNode = require('../../key_path/KeyPathNode');\n      var Property = require('../../property/Property');\n      function ShapeRectangle(element, parent) {\n        var state = {\n          parent: parent,\n          properties: _buildPropertyMap()\n        };\n        function _buildPropertyMap() {\n          return [{\n            name: 'Size',\n            value: Property(element.sh.s, parent)\n          }, {\n            name: 'Position',\n            value: Property(element.sh.p, parent)\n          }, {\n            name: 'Roundness',\n            value: Property(element.sh.r, parent)\n          }];\n        }\n        var methods = {};\n        return Object.assign(methods, KeyPathNode(state));\n      }\n      module.exports = ShapeRectangle;\n    }, {\n      \"../../key_path/KeyPathNode\": 12,\n      \"../../property/Property\": 40\n    }],\n    31: [function (require, module, exports) {\n      'use strict';\n\n      var KeyPathNode = require('../../key_path/KeyPathNode');\n      var Property = require('../../property/Property');\n      var Transform = require('../transform/Transform');\n      function ShapeRepeater(element, parent) {\n        var state = {\n          parent: parent,\n          properties: _buildPropertyMap()\n        };\n        function _buildPropertyMap() {\n          return [{\n            name: 'Copies',\n            value: Property(element.c, parent)\n          }, {\n            name: 'Offset',\n            value: Property(element.o, parent)\n          }, {\n            name: 'Transform',\n            value: Transform(element.tr, parent)\n          }];\n        }\n        var methods = {};\n        return Object.assign(methods, KeyPathNode(state));\n      }\n      module.exports = ShapeRepeater;\n    }, {\n      \"../../key_path/KeyPathNode\": 12,\n      \"../../property/Property\": 40,\n      \"../transform/Transform\": 39\n    }],\n    32: [function (require, module, exports) {\n      'use strict';\n\n      var KeyPathNode = require('../../key_path/KeyPathNode');\n      var Property = require('../../property/Property');\n      function ShapeRoundCorners(element, parent) {\n        var state = {\n          parent: parent,\n          properties: _buildPropertyMap()\n        };\n        function _buildPropertyMap() {\n          return [{\n            name: 'Radius',\n            value: Property(element.rd, parent)\n          }];\n        }\n        var methods = {};\n        return Object.assign(methods, KeyPathNode(state));\n      }\n      module.exports = ShapeRoundCorners;\n    }, {\n      \"../../key_path/KeyPathNode\": 12,\n      \"../../property/Property\": 40\n    }],\n    33: [function (require, module, exports) {\n      'use strict';\n\n      var KeyPathNode = require('../../key_path/KeyPathNode');\n      var Property = require('../../property/Property');\n      function ShapeStroke(element, parent) {\n        var state = {\n          parent: parent,\n          properties: _buildPropertyMap()\n        };\n        function _buildPropertyMap() {\n          return [{\n            name: 'Color',\n            value: Property(element.c, parent)\n          }, {\n            name: 'Stroke Width',\n            value: Property(element.w, parent)\n          }, {\n            name: 'Opacity',\n            value: Property(element.o, parent)\n          }];\n        }\n        var methods = {};\n        return Object.assign(methods, KeyPathNode(state));\n      }\n      module.exports = ShapeStroke;\n    }, {\n      \"../../key_path/KeyPathNode\": 12,\n      \"../../property/Property\": 40\n    }],\n    34: [function (require, module, exports) {\n      'use strict';\n\n      var KeyPathNode = require('../../key_path/KeyPathNode');\n      var Property = require('../../property/Property');\n      function ShapeTrimPaths(element, parent) {\n        var state = {\n          parent: parent,\n          properties: _buildPropertyMap()\n        };\n        function _buildPropertyMap() {\n          return [{\n            name: 'Start',\n            value: Property(element.s, parent)\n          }, {\n            name: 'End',\n            value: Property(element.e, parent)\n          }, {\n            name: 'Offset',\n            value: Property(element.o, parent)\n          }];\n        }\n        var methods = {};\n        return Object.assign(methods, KeyPathNode(state));\n      }\n      module.exports = ShapeTrimPaths;\n    }, {\n      \"../../key_path/KeyPathNode\": 12,\n      \"../../property/Property\": 40\n    }],\n    35: [function (require, module, exports) {\n      'use strict';\n\n      var LayerBase = require('../LayerBase');\n      function Solid(element, parent) {\n        var state = {\n          element: element,\n          parent: parent,\n          properties: _buildPropertyMap()\n        };\n        function _buildPropertyMap() {\n          return [];\n        }\n        var methods = {};\n        return Object.assign({}, LayerBase(state), methods);\n      }\n      module.exports = Solid;\n    }, {\n      \"../LayerBase\": 13\n    }],\n    36: [function (require, module, exports) {\n      'use strict';\n\n      var KeyPathNode = require('../../key_path/KeyPathNode');\n      var Property = require('../../property/Property');\n      var TextAnimator = require('./TextAnimator');\n      function Text(element, parent) {\n        var instance = {};\n        var state = {\n          element: element,\n          parent: parent,\n          properties: _buildPropertyMap()\n        };\n        function setDocumentData(_function) {\n          var previousValue;\n          var textDocumentUpdater = function textDocumentUpdater(data) {\n            var newValue = _function(element.textProperty.currentData);\n            if (previousValue !== newValue) {\n              previousValue = newValue;\n              return Object.assign({}, data, newValue, {\n                __complete: false\n              });\n            }\n            return data;\n          };\n          element.textProperty.addEffect(textDocumentUpdater);\n        }\n        function addAnimators() {\n          var animatorProperties = [];\n          var animators = element.textAnimator._animatorsData;\n          var i,\n            len = animators.length;\n          var textAnimator;\n          for (i = 0; i < len; i += 1) {\n            textAnimator = TextAnimator(animators[i]);\n            animatorProperties.push({\n              name: element.textAnimator._textData.a[i].nm || 'Animator ' + (i + 1),\n              //Fallback for old animations\n              value: textAnimator\n            });\n          }\n          return animatorProperties;\n        }\n        function _buildPropertyMap() {\n          return [{\n            name: 'Source',\n            value: {\n              setValue: setDocumentData\n            }\n          }].concat(addAnimators());\n        }\n        var methods = {};\n        return Object.assign(instance, methods, KeyPathNode(state));\n      }\n      module.exports = Text;\n    }, {\n      \"../../key_path/KeyPathNode\": 12,\n      \"../../property/Property\": 40,\n      \"./TextAnimator\": 37\n    }],\n    37: [function (require, module, exports) {\n      'use strict';\n\n      var KeyPathNode = require('../../key_path/KeyPathNode');\n      var Property = require('../../property/Property');\n      function TextAnimator(animator) {\n        var instance = {};\n        var state = {\n          properties: _buildPropertyMap()\n        };\n        function setAnchorPoint(value) {\n          Property(animator.a.a).setValue(value);\n        }\n        function setFillBrightness(value) {\n          Property(animator.a.fb).setValue(value);\n        }\n        function setFillColor(value) {\n          Property(animator.a.fc).setValue(value);\n        }\n        function setFillHue(value) {\n          Property(animator.a.fh).setValue(value);\n        }\n        function setFillSaturation(value) {\n          Property(animator.a.fs).setValue(value);\n        }\n        function setFillOpacity(value) {\n          Property(animator.a.fo).setValue(value);\n        }\n        function setOpacity(value) {\n          Property(animator.a.o).setValue(value);\n        }\n        function setPosition(value) {\n          Property(animator.a.p).setValue(value);\n        }\n        function setRotation(value) {\n          Property(animator.a.r).setValue(value);\n        }\n        function setRotationX(value) {\n          Property(animator.a.rx).setValue(value);\n        }\n        function setRotationY(value) {\n          Property(animator.a.ry).setValue(value);\n        }\n        function setScale(value) {\n          Property(animator.a.s).setValue(value);\n        }\n        function setSkewAxis(value) {\n          Property(animator.a.sa).setValue(value);\n        }\n        function setStrokeColor(value) {\n          Property(animator.a.sc).setValue(value);\n        }\n        function setSkew(value) {\n          Property(animator.a.sk).setValue(value);\n        }\n        function setStrokeOpacity(value) {\n          Property(animator.a.so).setValue(value);\n        }\n        function setStrokeWidth(value) {\n          Property(animator.a.sw).setValue(value);\n        }\n        function setStrokeBrightness(value) {\n          Property(animator.a.sb).setValue(value);\n        }\n        function setStrokeHue(value) {\n          Property(animator.a.sh).setValue(value);\n        }\n        function setStrokeSaturation(value) {\n          Property(animator.a.ss).setValue(value);\n        }\n        function setTrackingAmount(value) {\n          Property(animator.a.t).setValue(value);\n        }\n        function _buildPropertyMap() {\n          return [{\n            name: 'Anchor Point',\n            value: {\n              setValue: setAnchorPoint\n            }\n          }, {\n            name: 'Fill Brightness',\n            value: {\n              setValue: setFillBrightness\n            }\n          }, {\n            name: 'Fill Color',\n            value: {\n              setValue: setFillColor\n            }\n          }, {\n            name: 'Fill Hue',\n            value: {\n              setValue: setFillHue\n            }\n          }, {\n            name: 'Fill Saturation',\n            value: {\n              setValue: setFillSaturation\n            }\n          }, {\n            name: 'Fill Opacity',\n            value: {\n              setValue: setFillOpacity\n            }\n          }, {\n            name: 'Opacity',\n            value: {\n              setValue: setOpacity\n            }\n          }, {\n            name: 'Position',\n            value: {\n              setValue: setPosition\n            }\n          }, {\n            name: 'Rotation X',\n            value: {\n              setValue: setRotationX\n            }\n          }, {\n            name: 'Rotation Y',\n            value: {\n              setValue: setRotationY\n            }\n          }, {\n            name: 'Scale',\n            value: {\n              setValue: setScale\n            }\n          }, {\n            name: 'Skew Axis',\n            value: {\n              setValue: setSkewAxis\n            }\n          }, {\n            name: 'Stroke Color',\n            value: {\n              setValue: setStrokeColor\n            }\n          }, {\n            name: 'Skew',\n            value: {\n              setValue: setSkew\n            }\n          }, {\n            name: 'Stroke Width',\n            value: {\n              setValue: setStrokeWidth\n            }\n          }, {\n            name: 'Tracking Amount',\n            value: {\n              setValue: setTrackingAmount\n            }\n          }, {\n            name: 'Stroke Opacity',\n            value: {\n              setValue: setStrokeOpacity\n            }\n          }, {\n            name: 'Stroke Brightness',\n            value: {\n              setValue: setStrokeBrightness\n            }\n          }, {\n            name: 'Stroke Saturation',\n            value: {\n              setValue: setStrokeSaturation\n            }\n          }, {\n            name: 'Stroke Hue',\n            value: {\n              setValue: setStrokeHue\n            }\n          }];\n        }\n        var methods = {};\n        return Object.assign(instance, methods, KeyPathNode(state));\n      }\n      module.exports = TextAnimator;\n    }, {\n      \"../../key_path/KeyPathNode\": 12,\n      \"../../property/Property\": 40\n    }],\n    38: [function (require, module, exports) {\n      'use strict';\n\n      var LayerBase = require('../LayerBase');\n      var Text = require('./Text');\n      function TextElement(element) {\n        var instance = {};\n        var TextProperty = Text(element);\n        var state = {\n          element: element,\n          properties: _buildPropertyMap()\n        };\n        function _buildPropertyMap() {\n          return [{\n            name: 'text',\n            value: TextProperty\n          }, {\n            name: 'Text',\n            value: TextProperty\n          }];\n        }\n        function getText() {\n          return element.textProperty.currentData.t;\n        }\n        function setText(value, index) {\n          setDocumentData({\n            t: value\n          }, index);\n        }\n        function setDocumentData(data, index) {\n          return element.updateDocumentData(data, index);\n        }\n        function canResizeFont(_canResize) {\n          return element.canResizeFont(_canResize);\n        }\n        function setMinimumFontSize(_fontSize) {\n          return element.setMinimumFontSize(_fontSize);\n        }\n        var methods = {\n          getText: getText,\n          setText: setText,\n          canResizeFont: canResizeFont,\n          setDocumentData: setDocumentData,\n          setMinimumFontSize: setMinimumFontSize\n        };\n        return Object.assign(instance, LayerBase(state), methods);\n      }\n      module.exports = TextElement;\n    }, {\n      \"../LayerBase\": 13,\n      \"./Text\": 36\n    }],\n    39: [function (require, module, exports) {\n      'use strict';\n\n      var KeyPathNode = require('../../key_path/KeyPathNode');\n      var Property = require('../../property/Property');\n      function Transform(props, parent) {\n        var state = {\n          properties: _buildPropertyMap()\n        };\n        function _buildPropertyMap() {\n          return [{\n            name: 'Anchor Point',\n            value: Property(props.a, parent)\n          }, {\n            name: 'Point of Interest',\n            value: Property(props.a, parent)\n          }, {\n            name: 'Position',\n            value: Property(props.p, parent)\n          }, {\n            name: 'Scale',\n            value: Property(props.s, parent)\n          }, {\n            name: 'Rotation',\n            value: Property(props.r, parent)\n          }, {\n            name: 'X Position',\n            value: Property(props.px, parent)\n          }, {\n            name: 'Y Position',\n            value: Property(props.py, parent)\n          }, {\n            name: 'Z Position',\n            value: Property(props.pz, parent)\n          }, {\n            name: 'X Rotation',\n            value: Property(props.rx, parent)\n          }, {\n            name: 'Y Rotation',\n            value: Property(props.ry, parent)\n          }, {\n            name: 'Z Rotation',\n            value: Property(props.rz, parent)\n          }, {\n            name: 'Opacity',\n            value: Property(props.o, parent)\n          }];\n        }\n        function getTargetTransform() {\n          return props;\n        }\n        var methods = {\n          getTargetTransform: getTargetTransform\n        };\n        return Object.assign(methods, KeyPathNode(state));\n      }\n      module.exports = Transform;\n    }, {\n      \"../../key_path/KeyPathNode\": 12,\n      \"../../property/Property\": 40\n    }],\n    40: [function (require, module, exports) {\n      'use strict';\n\n      var KeyPathNode = require('../key_path/KeyPathNode');\n      var ValueProperty = require('./ValueProperty');\n      function Property(property, parent) {\n        var state = {\n          property: property,\n          parent: parent\n        };\n        function destroy() {\n          state.property = null;\n          state.parent = null;\n        }\n        var methods = {\n          destroy: destroy\n        };\n        return Object.assign({}, methods, ValueProperty(state), KeyPathNode(state));\n      }\n      module.exports = Property;\n    }, {\n      \"../key_path/KeyPathNode\": 12,\n      \"./ValueProperty\": 41\n    }],\n    41: [function (require, module, exports) {\n      'use strict';\n\n      var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n        return typeof obj;\n      } : function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n      function ValueProperty(state) {\n        function setValue(value) {\n          var property = state.property;\n          if (!property || !property.addEffect) {\n            return;\n          }\n          if (typeof value === 'function') {\n            return property.addEffect(value);\n          } else if (property.propType === 'multidimensional' && (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' && value.length === 2) {\n            return property.addEffect(function () {\n              return value;\n            });\n          } else if (property.propType === 'unidimensional' && typeof value === 'number') {\n            return property.addEffect(function () {\n              return value;\n            });\n          }\n        }\n        function getValue() {\n          return state.property.v;\n        }\n        var methods = {\n          setValue: setValue,\n          getValue: getValue\n        };\n        return methods;\n      }\n      module.exports = ValueProperty;\n    }, {}],\n    42: [function (require, module, exports) {\n      'use strict';\n\n      var LayerList = require('../layer/LayerList');\n      var KeyPathList = require('../key_path/KeyPathList');\n      function Renderer(state) {\n        state._type = 'renderer';\n        function getRendererType() {\n          return state.animation.animType;\n        }\n        return Object.assign({\n          getRendererType: getRendererType\n        }, LayerList(state.elements), KeyPathList(state.elements, 'renderer'));\n      }\n      module.exports = Renderer;\n    }, {\n      \"../key_path/KeyPathList\": 11,\n      \"../layer/LayerList\": 14\n    }]\n  }, {}, [10])(10);\n});","map":{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/animation/AnimationItem.js","src/enums/key_path_separator.js","src/enums/layer_types.js","src/enums/property_names.js","src/helpers/keyPathBuilder.js","src/helpers/layerAPIBuilder.js","src/helpers/stringSanitizer.js","src/helpers/transformationMatrix.js","src/helpers/typedArrays.js","src/index.js","src/key_path/KeyPathList.js","src/key_path/KeyPathNode.js","src/layer/LayerBase.js","src/layer/LayerList.js","src/layer/camera/Camera.js","src/layer/composition/Composition.js","src/layer/composition/TimeRemap.js","src/layer/effects/EffectElement.js","src/layer/effects/Effects.js","src/layer/image/ImageElement.js","src/layer/null_element/NullElement.js","src/layer/shape/Shape.js","src/layer/shape/ShapeContents.js","src/layer/shape/ShapeEllipse.js","src/layer/shape/ShapeFill.js","src/layer/shape/ShapeGradientFill.js","src/layer/shape/ShapeGradientStroke.js","src/layer/shape/ShapePath.js","src/layer/shape/ShapePolystar.js","src/layer/shape/ShapeRectangle.js","src/layer/shape/ShapeRepeater.js","src/layer/shape/ShapeRoundCorners.js","src/layer/shape/ShapeStroke.js","src/layer/shape/ShapeTrimPaths.js","src/layer/solid/SolidElement.js","src/layer/text/Text.js","src/layer/text/TextAnimator.js","src/layer/text/TextElement.js","src/layer/transform/Transform.js","src/property/Property.js","src/property/ValueProperty.js","src/renderer/Renderer.js"],"names":[],"mappings":"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","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","var Renderer = require('../renderer/Renderer');\r\nvar layer_api = require('../helpers/layerAPIBuilder');\r\n\r\nfunction AnimationItemFactory(animation) {\r\n\r\n\tvar state = {\r\n\t\tanimation: animation,\r\n\t\telements: animation.renderer.elements.map((item) => layer_api(item, animation)),\r\n\t\tboundingRect: null,\r\n\t\tscaleData: null\r\n\t}\r\n\r\n\tfunction getCurrentFrame() {\r\n\t\treturn animation.currentFrame;\r\n\t}\r\n\r\n\tfunction getCurrentTime() {\r\n\t\treturn animation.currentFrame / animation.frameRate;\r\n\t}\r\n\r\n\tfunction addValueCallback(properties, value) {\r\n\t\tvar i, len = properties.length;\r\n\t\tfor (i = 0; i < len; i += 1) {\r\n\t\t\tproperties.getPropertyAtIndex(i).setValue(value);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction toKeypathLayerPoint(properties, point) {\r\n\t\tvar i, len = properties.length;\r\n\t\tvar points = [];\r\n\t\tfor (i = 0; i < len; i += 1) {\r\n\t\t\tpoints.push(properties.getPropertyAtIndex(i).toKeypathLayerPoint(point));\r\n\t\t}\r\n\t\tif(points.length === 1) {\r\n\t\t\treturn points[0];\r\n\t\t}\r\n\t\treturn points;\r\n\t}\r\n\r\n\tfunction fromKeypathLayerPoint(properties, point) {\r\n\t\tvar i, len = properties.length;\r\n\t\tvar points = [];\r\n\t\tfor (i = 0; i < len; i += 1) {\r\n\t\t\tpoints.push(properties.getPropertyAtIndex(i).fromKeypathLayerPoint(point));\r\n\t\t}\r\n\t\tif(points.length === 1) {\r\n\t\t\treturn points[0];\r\n\t\t}\r\n\t\treturn points;\r\n\t}\r\n\r\n\tfunction calculateScaleData(boundingRect) {\r\n\t\tvar compWidth = animation.animationData.w;\r\n        var compHeight = animation.animationData.h;\r\n\t\tvar compRel = compWidth / compHeight;\r\n        var elementWidth = boundingRect.width;\r\n        var elementHeight = boundingRect.height;\r\n        var elementRel = elementWidth / elementHeight;\r\n        var scale,scaleXOffset,scaleYOffset;\r\n        var xAlignment, yAlignment, scaleMode;\r\n        var aspectRatio = animation.renderer.renderConfig.preserveAspectRatio.split(' ');\r\n        if(aspectRatio[1] === 'meet') {\r\n        \tscale = elementRel > compRel ? elementHeight / compHeight : elementWidth / compWidth;\r\n        } else {\r\n        \tscale = elementRel > compRel ? elementWidth / compWidth : elementHeight / compHeight;\r\n        }\r\n        xAlignment = aspectRatio[0].substr(0,4);\r\n        yAlignment = aspectRatio[0].substr(4);\r\n        if(xAlignment === 'xMin') {\r\n        \tscaleXOffset = 0;\r\n        } else if(xAlignment === 'xMid') {\r\n        \tscaleXOffset = (elementWidth - compWidth * scale) / 2;\r\n        } else {\r\n        \tscaleXOffset = (elementWidth - compWidth * scale);\r\n        }\r\n\r\n        if(yAlignment === 'YMin') {\r\n\t        scaleYOffset = 0;\r\n        } else if(yAlignment === 'YMid') {\r\n\t        scaleYOffset = (elementHeight - compHeight * scale) / 2;\r\n        } else {\r\n\t        scaleYOffset = (elementHeight - compHeight * scale);\r\n        }\r\n        return {\r\n        \tscaleYOffset: scaleYOffset,\r\n        \tscaleXOffset: scaleXOffset,\r\n        \tscale: scale\r\n        }\r\n\t}\r\n\r\n\tfunction recalculateSize(container) {\r\n\t\tvar container = animation.wrapper;\r\n\t\tstate.boundingRect = container.getBoundingClientRect();\r\n\t\tstate.scaleData = calculateScaleData(state.boundingRect);\r\n\t}\r\n\r\n\tfunction toContainerPoint(point) {\r\n\t\tif(!animation.wrapper || !animation.wrapper.getBoundingClientRect) {\r\n\t\t\treturn point;\r\n\t\t}\r\n\t\tif(!state.boundingRect) {\r\n\t\t\trecalculateSize();\r\n\t\t}\r\n\r\n\t\tvar boundingRect = state.boundingRect;\r\n\t\tvar newPoint = [point[0] - boundingRect.left, point[1] - boundingRect.top];\r\n\t\tvar scaleData = state.scaleData;\r\n\r\n        newPoint[0] = (newPoint[0] - scaleData.scaleXOffset) / scaleData.scale;\r\n        newPoint[1] = (newPoint[1] - scaleData.scaleYOffset) / scaleData.scale;\r\n\r\n\t\treturn newPoint;\r\n\t}\r\n\r\n\tfunction fromContainerPoint(point) {\r\n\t\tif(!animation.wrapper || !animation.wrapper.getBoundingClientRect) {\r\n\t\t\treturn point;\r\n\t\t}\r\n\t\tif(!state.boundingRect) {\r\n\t\t\trecalculateSize();\r\n\t\t}\r\n\t\tvar boundingRect = state.boundingRect;\r\n\t\tvar scaleData = state.scaleData;\r\n\r\n\t\tvar newPoint = [point[0] * scaleData.scale + scaleData.scaleXOffset, point[1] * scaleData.scale + scaleData.scaleYOffset];\r\n\r\n\t\tvar newPoint = [newPoint[0] + boundingRect.left, newPoint[1] + boundingRect.top];\r\n\t\treturn newPoint;\r\n\t}\r\n\r\n\tfunction getScaleData() {\r\n\t\treturn state.scaleData;\r\n\t}\r\n\r\n\tvar methods = {\r\n\t\trecalculateSize: recalculateSize,\r\n\t\tgetScaleData: getScaleData,\r\n\t\ttoContainerPoint: toContainerPoint,\r\n\t\tfromContainerPoint: fromContainerPoint,\r\n\t\tgetCurrentFrame: getCurrentFrame,\r\n\t\tgetCurrentTime: getCurrentTime,\r\n\t\taddValueCallback: addValueCallback,\r\n\t\ttoKeypathLayerPoint: toKeypathLayerPoint,\r\n\t\tfromKeypathLayerPoint: fromKeypathLayerPoint\r\n\t}\r\n\r\n\treturn Object.assign({}, Renderer(state), methods);\r\n}\r\n\r\nmodule.exports = AnimationItemFactory;","module.exports = ',';","module.exports = {\r\n\t 0: 0,\r\n\t 1: 1,\r\n\t 2: 2,\r\n\t 3: 3,\r\n\t 4: 4,\r\n\t 5: 5,\r\n\t 13: 13,\r\n\t'comp': 0,\r\n\t'composition': 0,\r\n\t'solid': 1,\r\n\t'image': 2,\r\n\t'null': 3,\r\n\t'shape': 4,\r\n\t'text': 5,\r\n\t'camera': 13\r\n}","module.exports = {\r\n\tLAYER_TRANSFORM: 'transform'\r\n}","var key_path_separator = require('../enums/key_path_separator');\r\nvar sanitizeString = require('./stringSanitizer');\r\n\r\nmodule.exports = function(propertyPath) {\r\n\tvar keyPathSplit = propertyPath.split(key_path_separator);\r\n\tvar selector = keyPathSplit.shift();\r\n\treturn {\r\n\t\tselector: sanitizeString(selector),\r\n\t\tpropertyPath: keyPathSplit.join(key_path_separator)\r\n\t}\r\n}","var TextElement = require('../layer/text/TextElement');\r\nvar ShapeElement = require('../layer/shape/Shape');\r\nvar NullElement = require('../layer/null_element/NullElement');\r\nvar SolidElement = require('../layer/solid/SolidElement');\r\nvar ImageElement = require('../layer/image/ImageElement');\r\nvar CameraElement = require('../layer/camera/Camera');\r\nvar LayerBase = require('../layer/LayerBase');\r\n\r\n\r\nmodule.exports = function getLayerApi(element, parent) {\r\n\tvar layerType = element.data.ty;\r\n\tvar Composition = require('../layer/composition/Composition');\r\n\tswitch(layerType) {\r\n\t\tcase 0:\r\n\t\treturn Composition(element, parent);\r\n\t\tcase 1:\r\n\t\treturn SolidElement(element, parent);\r\n\t\tcase 2:\r\n\t\treturn ImageElement(element, parent);\r\n\t\tcase 3:\r\n\t\treturn NullElement(element, parent);\r\n\t\tcase 4:\r\n\t\treturn ShapeElement(element, parent, element.data.shapes, element.itemsData);\r\n\t\tcase 5:\r\n\t\treturn TextElement(element, parent);\r\n\t\tcase 13:\r\n\t\treturn CameraElement(element, parent);\r\n\t\tdefault:\r\n\t\treturn LayerBase(element, parent);\r\n\t}\r\n}","function sanitizeString(string) {\r\n\treturn string.trim();\r\n}\r\n\r\nmodule.exports = sanitizeString","var createTypedArray = require('./typedArrays')\r\n\r\n/*!\r\n Transformation Matrix v2.0\r\n (c) Epistemex 2014-2015\r\n www.epistemex.com\r\n By Ken Fyrstenberg\r\n Contributions by leeoniya.\r\n License: MIT, header required.\r\n */\r\n\r\n/**\r\n * 2D transformation matrix object initialized with identity matrix.\r\n *\r\n * The matrix can synchronize a canvas context by supplying the context\r\n * as an argument, or later apply current absolute transform to an\r\n * existing context.\r\n *\r\n * All values are handled as floating point values.\r\n *\r\n * @param {CanvasRenderingContext2D} [context] - Optional context to sync with Matrix\r\n * @prop {number} a - scale x\r\n * @prop {number} b - shear y\r\n * @prop {number} c - shear x\r\n * @prop {number} d - scale y\r\n * @prop {number} e - translate x\r\n * @prop {number} f - translate y\r\n * @prop {CanvasRenderingContext2D|null} [context=null] - set or get current canvas context\r\n * @constructor\r\n */\r\n\r\nvar Matrix = (function(){\r\n\r\n    var _cos = Math.cos;\r\n    var _sin = Math.sin;\r\n    var _tan = Math.tan;\r\n    var _rnd = Math.round;\r\n\r\n    function reset(){\r\n        this.props[0] = 1;\r\n        this.props[1] = 0;\r\n        this.props[2] = 0;\r\n        this.props[3] = 0;\r\n        this.props[4] = 0;\r\n        this.props[5] = 1;\r\n        this.props[6] = 0;\r\n        this.props[7] = 0;\r\n        this.props[8] = 0;\r\n        this.props[9] = 0;\r\n        this.props[10] = 1;\r\n        this.props[11] = 0;\r\n        this.props[12] = 0;\r\n        this.props[13] = 0;\r\n        this.props[14] = 0;\r\n        this.props[15] = 1;\r\n        return this;\r\n    }\r\n\r\n    function rotate(angle) {\r\n        if(angle === 0){\r\n            return this;\r\n        }\r\n        var mCos = _cos(angle);\r\n        var mSin = _sin(angle);\r\n        return this._t(mCos, -mSin,  0, 0, mSin,  mCos, 0, 0, 0,  0,  1, 0, 0, 0, 0, 1);\r\n    }\r\n\r\n    function rotateX(angle){\r\n        if(angle === 0){\r\n            return this;\r\n        }\r\n        var mCos = _cos(angle);\r\n        var mSin = _sin(angle);\r\n        return this._t(1, 0, 0, 0, 0, mCos, -mSin, 0, 0, mSin,  mCos, 0, 0, 0, 0, 1);\r\n    }\r\n\r\n    function rotateY(angle){\r\n        if(angle === 0){\r\n            return this;\r\n        }\r\n        var mCos = _cos(angle);\r\n        var mSin = _sin(angle);\r\n        return this._t(mCos,  0,  mSin, 0, 0, 1, 0, 0, -mSin,  0,  mCos, 0, 0, 0, 0, 1);\r\n    }\r\n\r\n    function rotateZ(angle){\r\n        if(angle === 0){\r\n            return this;\r\n        }\r\n        var mCos = _cos(angle);\r\n        var mSin = _sin(angle);\r\n        return this._t(mCos, -mSin,  0, 0, mSin,  mCos, 0, 0, 0,  0,  1, 0, 0, 0, 0, 1);\r\n    }\r\n\r\n    function shear(sx,sy){\r\n        return this._t(1, sy, sx, 1, 0, 0);\r\n    }\r\n\r\n    function skew(ax, ay){\r\n        return this.shear(_tan(ax), _tan(ay));\r\n    }\r\n\r\n    function skewFromAxis(ax, angle){\r\n        var mCos = _cos(angle);\r\n        var mSin = _sin(angle);\r\n        return this._t(mCos, mSin,  0, 0, -mSin,  mCos, 0, 0, 0,  0,  1, 0, 0, 0, 0, 1)\r\n            ._t(1, 0,  0, 0, _tan(ax),  1, 0, 0, 0,  0,  1, 0, 0, 0, 0, 1)\r\n            ._t(mCos, -mSin,  0, 0, mSin,  mCos, 0, 0, 0,  0,  1, 0, 0, 0, 0, 1);\r\n        //return this._t(mCos, mSin, -mSin, mCos, 0, 0)._t(1, 0, _tan(ax), 1, 0, 0)._t(mCos, -mSin, mSin, mCos, 0, 0);\r\n    }\r\n\r\n    function scale(sx, sy, sz) {\r\n        sz = isNaN(sz) ? 1 : sz;\r\n        if(sx == 1 && sy == 1 && sz == 1){\r\n            return this;\r\n        }\r\n        return this._t(sx, 0, 0, 0, 0, sy, 0, 0, 0, 0, sz, 0, 0, 0, 0, 1);\r\n    }\r\n\r\n    function setTransform(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p) {\r\n        this.props[0] = a;\r\n        this.props[1] = b;\r\n        this.props[2] = c;\r\n        this.props[3] = d;\r\n        this.props[4] = e;\r\n        this.props[5] = f;\r\n        this.props[6] = g;\r\n        this.props[7] = h;\r\n        this.props[8] = i;\r\n        this.props[9] = j;\r\n        this.props[10] = k;\r\n        this.props[11] = l;\r\n        this.props[12] = m;\r\n        this.props[13] = n;\r\n        this.props[14] = o;\r\n        this.props[15] = p;\r\n        return this;\r\n    }\r\n\r\n    function translate(tx, ty, tz) {\r\n        tz = tz || 0;\r\n        if(tx !== 0 || ty !== 0 || tz !== 0){\r\n            return this._t(1,0,0,0,0,1,0,0,0,0,1,0,tx,ty,tz,1);\r\n        }\r\n        return this;\r\n    }\r\n\r\n    function transform(a2, b2, c2, d2, e2, f2, g2, h2, i2, j2, k2, l2, m2, n2, o2, p2) {\r\n\r\n        var _p = this.props;\r\n\r\n        if(a2 === 1 && b2 === 0 && c2 === 0 && d2 === 0 && e2 === 0 && f2 === 1 && g2 === 0 && h2 === 0 && i2 === 0 && j2 === 0 && k2 === 1 && l2 === 0){\r\n            //NOTE: commenting this condition because TurboFan deoptimizes code when present\r\n            //if(m2 !== 0 || n2 !== 0 || o2 !== 0){\r\n                _p[12] = _p[12] * a2 + _p[15] * m2;\r\n                _p[13] = _p[13] * f2 + _p[15] * n2;\r\n                _p[14] = _p[14] * k2 + _p[15] * o2;\r\n                _p[15] = _p[15] * p2;\r\n            //}\r\n            this._identityCalculated = false;\r\n            return this;\r\n        }\r\n\r\n        var a1 = _p[0];\r\n        var b1 = _p[1];\r\n        var c1 = _p[2];\r\n        var d1 = _p[3];\r\n        var e1 = _p[4];\r\n        var f1 = _p[5];\r\n        var g1 = _p[6];\r\n        var h1 = _p[7];\r\n        var i1 = _p[8];\r\n        var j1 = _p[9];\r\n        var k1 = _p[10];\r\n        var l1 = _p[11];\r\n        var m1 = _p[12];\r\n        var n1 = _p[13];\r\n        var o1 = _p[14];\r\n        var p1 = _p[15];\r\n\r\n        /* matrix order (canvas compatible):\r\n         * ace\r\n         * bdf\r\n         * 001\r\n         */\r\n        _p[0] = a1 * a2 + b1 * e2 + c1 * i2 + d1 * m2;\r\n        _p[1] = a1 * b2 + b1 * f2 + c1 * j2 + d1 * n2 ;\r\n        _p[2] = a1 * c2 + b1 * g2 + c1 * k2 + d1 * o2 ;\r\n        _p[3] = a1 * d2 + b1 * h2 + c1 * l2 + d1 * p2 ;\r\n\r\n        _p[4] = e1 * a2 + f1 * e2 + g1 * i2 + h1 * m2 ;\r\n        _p[5] = e1 * b2 + f1 * f2 + g1 * j2 + h1 * n2 ;\r\n        _p[6] = e1 * c2 + f1 * g2 + g1 * k2 + h1 * o2 ;\r\n        _p[7] = e1 * d2 + f1 * h2 + g1 * l2 + h1 * p2 ;\r\n\r\n        _p[8] = i1 * a2 + j1 * e2 + k1 * i2 + l1 * m2 ;\r\n        _p[9] = i1 * b2 + j1 * f2 + k1 * j2 + l1 * n2 ;\r\n        _p[10] = i1 * c2 + j1 * g2 + k1 * k2 + l1 * o2 ;\r\n        _p[11] = i1 * d2 + j1 * h2 + k1 * l2 + l1 * p2 ;\r\n\r\n        _p[12] = m1 * a2 + n1 * e2 + o1 * i2 + p1 * m2 ;\r\n        _p[13] = m1 * b2 + n1 * f2 + o1 * j2 + p1 * n2 ;\r\n        _p[14] = m1 * c2 + n1 * g2 + o1 * k2 + p1 * o2 ;\r\n        _p[15] = m1 * d2 + n1 * h2 + o1 * l2 + p1 * p2 ;\r\n\r\n        this._identityCalculated = false;\r\n        return this;\r\n    }\r\n\r\n    function isIdentity() {\r\n        if(!this._identityCalculated){\r\n            this._identity = !(this.props[0] !== 1 || this.props[1] !== 0 || this.props[2] !== 0 || this.props[3] !== 0 || this.props[4] !== 0 || this.props[5] !== 1 || this.props[6] !== 0 || this.props[7] !== 0 || this.props[8] !== 0 || this.props[9] !== 0 || this.props[10] !== 1 || this.props[11] !== 0 || this.props[12] !== 0 || this.props[13] !== 0 || this.props[14] !== 0 || this.props[15] !== 1);\r\n            this._identityCalculated = true;\r\n        }\r\n        return this._identity;\r\n    }\r\n\r\n    function equals(matr){\r\n        var i = 0;\r\n        while (i < 16) {\r\n            if(matr.props[i] !== this.props[i]) {\r\n                return false;\r\n            }\r\n            i+=1;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    function clone(matr){\r\n        var i;\r\n        for(i=0;i<16;i+=1){\r\n            matr.props[i] = this.props[i];\r\n        }\r\n    }\r\n\r\n    function cloneFromProps(props){\r\n        var i;\r\n        for(i=0;i<16;i+=1){\r\n            this.props[i] = props[i];\r\n        }\r\n    }\r\n\r\n    function applyToPoint(x, y, z) {\r\n\r\n        return {\r\n            x: x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12],\r\n            y: x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13],\r\n            z: x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14]\r\n        };\r\n        /*return {\r\n         x: x * me.a + y * me.c + me.e,\r\n         y: x * me.b + y * me.d + me.f\r\n         };*/\r\n    }\r\n    function applyToX(x, y, z) {\r\n        return x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12];\r\n    }\r\n    function applyToY(x, y, z) {\r\n        return x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13];\r\n    }\r\n    function applyToZ(x, y, z) {\r\n        return x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14];\r\n    }\r\n\r\n    function inversePoint(pt) {\r\n        var determinant = this.props[0] * this.props[5] - this.props[1] * this.props[4];\r\n        var a = this.props[5]/determinant;\r\n        var b = - this.props[1]/determinant;\r\n        var c = - this.props[4]/determinant;\r\n        var d = this.props[0]/determinant;\r\n        var e = (this.props[4] * this.props[13] - this.props[5] * this.props[12])/determinant;\r\n        var f = - (this.props[0] * this.props[13] - this.props[1] * this.props[12])/determinant;\r\n        return [pt[0] * a + pt[1] * c + e, pt[0] * b + pt[1] * d + f, 0];\r\n    }\r\n\r\n    function inversePoints(pts){\r\n        var i, len = pts.length, retPts = [];\r\n        for(i=0;i<len;i+=1){\r\n            retPts[i] = inversePoint(pts[i]);\r\n        }\r\n        return retPts;\r\n    }\r\n\r\n    function applyToTriplePoints(pt1, pt2, pt3) {\r\n        var arr = createTypedArray('float32', 6);\r\n        if(this.isIdentity()) {\r\n            arr[0] = pt1[0];\r\n            arr[1] = pt1[1];\r\n            arr[2] = pt2[0];\r\n            arr[3] = pt2[1];\r\n            arr[4] = pt3[0];\r\n            arr[5] = pt3[1];\r\n        } else {\r\n            var p0 = this.props[0], p1 = this.props[1], p4 = this.props[4], p5 = this.props[5], p12 = this.props[12], p13 = this.props[13];\r\n            arr[0] = pt1[0] * p0 + pt1[1] * p4 + p12;\r\n            arr[1] = pt1[0] * p1 + pt1[1] * p5 + p13;\r\n            arr[2] = pt2[0] * p0 + pt2[1] * p4 + p12;\r\n            arr[3] = pt2[0] * p1 + pt2[1] * p5 + p13;\r\n            arr[4] = pt3[0] * p0 + pt3[1] * p4 + p12;\r\n            arr[5] = pt3[0] * p1 + pt3[1] * p5 + p13;\r\n        }\r\n        return arr;\r\n    }\r\n\r\n    function applyToPointArray(x,y,z){\r\n        var arr;\r\n        if(this.isIdentity()) {\r\n            arr = [x,y,z];\r\n        } else {\r\n            arr = [x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12],x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13],x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14]];\r\n        }\r\n        return arr;\r\n    }\r\n\r\n    function applyToPointStringified(x, y) {\r\n        if(this.isIdentity()) {\r\n            return x + ',' + y;\r\n        }\r\n        return (x * this.props[0] + y * this.props[4] + this.props[12])+','+(x * this.props[1] + y * this.props[5] + this.props[13]);\r\n    }\r\n\r\n    function toCSS() {\r\n        //Doesn't make much sense to add this optimization. If it is an identity matrix, it's very likely this will get called only once since it won't be keyframed.\r\n        /*if(this.isIdentity()) {\r\n            return '';\r\n        }*/\r\n        var i = 0;\r\n        var props = this.props;\r\n        var cssValue = 'matrix3d(';\r\n        var v = 10000;\r\n        while(i<16){\r\n            cssValue += _rnd(props[i]*v)/v;\r\n            cssValue += i === 15 ? ')':',';\r\n            i += 1;\r\n        }\r\n        return cssValue;\r\n    }\r\n\r\n    function to2dCSS() {\r\n        //Doesn't make much sense to add this optimization. If it is an identity matrix, it's very likely this will get called only once since it won't be keyframed.\r\n        /*if(this.isIdentity()) {\r\n            return '';\r\n        }*/\r\n        var v = 10000;\r\n        var props = this.props;\r\n        return \"matrix(\" + _rnd(props[0]*v)/v + ',' + _rnd(props[1]*v)/v + ',' + _rnd(props[4]*v)/v + ',' + _rnd(props[5]*v)/v + ',' + _rnd(props[12]*v)/v + ',' + _rnd(props[13]*v)/v + \")\";\r\n    }\r\n\r\n    function MatrixInstance(){\r\n        this.reset = reset;\r\n        this.rotate = rotate;\r\n        this.rotateX = rotateX;\r\n        this.rotateY = rotateY;\r\n        this.rotateZ = rotateZ;\r\n        this.skew = skew;\r\n        this.skewFromAxis = skewFromAxis;\r\n        this.shear = shear;\r\n        this.scale = scale;\r\n        this.setTransform = setTransform;\r\n        this.translate = translate;\r\n        this.transform = transform;\r\n        this.applyToPoint = applyToPoint;\r\n        this.applyToX = applyToX;\r\n        this.applyToY = applyToY;\r\n        this.applyToZ = applyToZ;\r\n        this.applyToPointArray = applyToPointArray;\r\n        this.applyToTriplePoints = applyToTriplePoints;\r\n        this.applyToPointStringified = applyToPointStringified;\r\n        this.toCSS = toCSS;\r\n        this.to2dCSS = to2dCSS;\r\n        this.clone = clone;\r\n        this.cloneFromProps = cloneFromProps;\r\n        this.equals = equals;\r\n        this.inversePoints = inversePoints;\r\n        this.inversePoint = inversePoint;\r\n        this._t = this.transform;\r\n        this.isIdentity = isIdentity;\r\n        this._identity = true;\r\n        this._identityCalculated = false;\r\n\r\n        this.props = createTypedArray('float32', 16);\r\n        this.reset();\r\n    };\r\n\r\n    return function() {\r\n        return new MatrixInstance()\r\n    }\r\n}());\r\n\r\nmodule.exports = Matrix;","var createTypedArray = (function(){\r\n\tfunction createRegularArray(type, len){\r\n\t\tvar i = 0, arr = [], value;\r\n\t\tswitch(type) {\r\n\t\t\tcase 'int16':\r\n\t\t\tcase 'uint8c':\r\n\t\t\t\tvalue = 1;\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tvalue = 1.1;\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\tfor(i = 0; i < len; i += 1) {\r\n\t\t\tarr.push(value);\r\n\t\t}\r\n\t\treturn arr;\r\n\t}\r\n\tfunction createTypedArray(type, len){\r\n\t\tif(type === 'float32') {\r\n\t\t\treturn new Float32Array(len);\r\n\t\t} else if(type === 'int16') {\r\n\t\t\treturn new Int16Array(len);\r\n\t\t} else if(type === 'uint8c') {\r\n\t\t\treturn new Uint8ClampedArray(len);\r\n\t\t}\r\n\t}\r\n\tif(typeof Uint8ClampedArray === 'function' && typeof Float32Array === 'function') {\r\n\t\treturn createTypedArray;\r\n\t} else {\r\n\t\treturn createRegularArray;\r\n\t}\r\n}());\r\n\r\nmodule.exports = createTypedArray;\r\n","var AnimationItem = require('./animation/AnimationItem');\r\n\r\nfunction createAnimationApi(anim) {\r\n\treturn Object.assign({}, AnimationItem(anim));\r\n}\r\n\r\nmodule.exports = {\r\n\tcreateAnimationApi : createAnimationApi\r\n}","var keyPathBuilder = require('../helpers/keyPathBuilder');\r\nvar layer_types = require('../enums/layer_types');\r\n\r\nfunction KeyPathList(elements, node_type) {\r\n\r\n\tfunction _getLength() {\r\n\t\treturn elements.length;\r\n\t}\r\n\r\n\tfunction _filterLayerByType(elements, type) {\r\n\t\treturn elements.filter(function(element) {\r\n\t\t\treturn element.getTargetLayer().data.ty === layer_types[type];\r\n\t\t});\r\n\t}\r\n\r\n\tfunction _filterLayerByName(elements, name) {\r\n\t\treturn elements.filter(function(element) {\r\n\t\t\treturn element.getTargetLayer().data.nm === name;\r\n\t\t});\r\n\t}\r\n\r\n\tfunction _filterLayerByProperty(elements, name) {\r\n\t\treturn elements.filter(function(element) {\r\n\t\t\tif(element.hasProperty(name)) {\r\n\t\t\t\treturn element.getProperty(name);\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t});\r\n\t}\r\n\r\n\tfunction getLayersByType(selector) {\r\n\t\treturn KeyPathList(_filterLayerByType(elements, selector), 'layer');\r\n\t}\r\n\r\n\tfunction getLayersByName(selector) {\r\n\t\treturn KeyPathList(_filterLayerByName(elements, selector), 'layer');\r\n\t}\r\n\r\n\tfunction getPropertiesBySelector(selector) {\r\n\t\treturn KeyPathList(elements.filter(function(element) {\r\n\t\t\treturn element.hasProperty(selector);\r\n\t\t}).map(function(element) {\r\n\t\t\treturn element.getProperty(selector);\r\n\t\t}), 'property');\r\n\t}\r\n\r\n\tfunction getLayerProperty(selector) {\r\n\t\tvar layers = _filterLayerByProperty(elements, selector);\r\n\t\tvar properties = layers.map(function(element){\r\n\t\t\treturn element.getProperty(selector);\r\n\t\t})\r\n\t\treturn KeyPathList(properties, 'property');\r\n\t}\r\n\r\n\tfunction getKeyPath(propertyPath) {\r\n\t\tvar keyPathData = keyPathBuilder(propertyPath);\r\n\t\tvar selector = keyPathData.selector;\r\n\t\tvar nodesByName, nodesByType, selectedNodes;\r\n\t\tif (node_type === 'renderer' || node_type === 'layer') {\r\n\t\t\tnodesByName = getLayersByName(selector);\r\n\t\t\tnodesByType = getLayersByType(selector);\r\n\t\t\tif (nodesByName.length === 0 && nodesByType.length === 0) {\r\n\t\t\t\tselectedNodes = getLayerProperty(selector);\r\n\t\t\t} else {\r\n\t\t\t\tselectedNodes = nodesByName.concat(nodesByType);\r\n\t\t\t}\r\n\t\t\tif (keyPathData.propertyPath) {\r\n\t\t\t\treturn selectedNodes.getKeyPath(keyPathData.propertyPath);\r\n\t\t\t} else {\r\n\t\t\t\treturn selectedNodes;\r\n\t\t\t}\r\n\t\t} else if(node_type === 'property') {\r\n\t\t\tselectedNodes = getPropertiesBySelector(selector);\r\n\t\t\tif (keyPathData.propertyPath) {\r\n\t\t\t\treturn selectedNodes.getKeyPath(keyPathData.propertyPath);\r\n\t\t\t} else {\r\n\t\t\t\treturn selectedNodes;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction concat(nodes) {\r\n\t\tvar nodesElements = nodes.getElements();\r\n\t\treturn KeyPathList(elements.concat(nodesElements), node_type);\r\n\t}\r\n\r\n\tfunction getElements() {\r\n\t\treturn elements;\r\n\t}\r\n\r\n\tfunction getPropertyAtIndex(index) {\r\n\t\treturn elements[index];\r\n\t}\r\n\r\n\tvar methods = {\r\n\t\tgetKeyPath: getKeyPath,\r\n\t\tconcat: concat,\r\n\t\tgetElements: getElements,\r\n\t\tgetPropertyAtIndex: getPropertyAtIndex\r\n\t}\r\n\r\n\tObject.defineProperty(methods, 'length', {\r\n\t\tget: _getLength\r\n\t});\r\n\r\n\treturn methods;\r\n}\r\n\r\nmodule.exports = KeyPathList;","var key_path_separator = require('../enums/key_path_separator');\r\nvar property_names = require('../enums/property_names');\r\n\r\nfunction KeyPathNode(state) {\r\n\r\n\tfunction getPropertyByPath(selector, propertyPath) {\r\n\t\tvar instanceProperties = state.properties || [];\r\n\t\tvar i = 0, len = instanceProperties.length;\r\n\t\twhile(i < len) {\r\n\t\t\tif(instanceProperties[i].name === selector) {\r\n\t\t\t\treturn instanceProperties[i].value;\r\n\t\t\t}\r\n\t\t\ti += 1;\r\n\t\t}\r\n\t\treturn null;\r\n\r\n\t}\r\n\r\n\tfunction hasProperty(selector) {\r\n\t\treturn !!getPropertyByPath(selector);\r\n\t}\r\n\r\n\tfunction getProperty(selector) {\r\n\t\treturn getPropertyByPath(selector);\r\n\t}\r\n\r\n\tfunction fromKeypathLayerPoint(point) {\r\n\t\treturn state.parent.fromKeypathLayerPoint(point);\r\n\t}\r\n\r\n\tfunction toKeypathLayerPoint(point) {\r\n\t\treturn state.parent.toKeypathLayerPoint(point);\r\n\t}\r\n\r\n\tvar methods = {\r\n\t\thasProperty: hasProperty,\r\n\t\tgetProperty: getProperty,\r\n\t\tfromKeypathLayerPoint: fromKeypathLayerPoint,\r\n\t\ttoKeypathLayerPoint: toKeypathLayerPoint\r\n\t}\r\n\treturn methods;\r\n}\r\n\r\nmodule.exports = KeyPathNode;","var KeyPathNode = require('../key_path/KeyPathNode');\r\nvar Transform = require('./transform/Transform');\r\nvar Effects = require('./effects/Effects');\r\nvar Matrix = require('../helpers/transformationMatrix');\r\n\r\nfunction LayerBase(state) {\r\n\r\n\tvar transform = Transform(state.element.finalTransform.mProp, state);\r\n\tvar effects = Effects(state.element.effectsManager.effectElements || [], state);\r\n\r\n\tfunction _buildPropertyMap() {\r\n\t\tstate.properties.push({\r\n\t\t\tname: 'transform',\r\n\t\t\tvalue: transform\r\n\t\t},{\r\n\t\t\tname: 'Transform',\r\n\t\t\tvalue: transform\r\n\t\t},{\r\n\t\t\tname: 'Effects',\r\n\t\t\tvalue: effects\r\n\t\t},{\r\n\t\t\tname: 'effects',\r\n\t\t\tvalue: effects\r\n\t\t})\r\n\t}\r\n\r\n    function getElementToPoint(point) {\r\n    }\r\n\r\n\tfunction toKeypathLayerPoint(point) {\r\n\t\tvar element = state.element;\r\n    \tif(state.parent.toKeypathLayerPoint) {\r\n        \tpoint = state.parent.toKeypathLayerPoint(point);\r\n        }\r\n    \tvar toWorldMat = Matrix();\r\n        var transformMat = state.getProperty('Transform').getTargetTransform();\r\n        transformMat.applyToMatrix(toWorldMat);\r\n        if(element.hierarchy && element.hierarchy.length){\r\n            var i, len = element.hierarchy.length;\r\n            for(i=0;i<len;i+=1){\r\n                element.hierarchy[i].finalTransform.mProp.applyToMatrix(toWorldMat);\r\n            }\r\n        }\r\n        return toWorldMat.inversePoint(point);\r\n\t}\r\n\r\n\tfunction fromKeypathLayerPoint(point) {\r\n\t\tvar element = state.element;\r\n\t\tvar toWorldMat = Matrix();\r\n        var transformMat = state.getProperty('Transform').getTargetTransform();\r\n        transformMat.applyToMatrix(toWorldMat);\r\n        if(element.hierarchy && element.hierarchy.length){\r\n            var i, len = element.hierarchy.length;\r\n            for(i=0;i<len;i+=1){\r\n                element.hierarchy[i].finalTransform.mProp.applyToMatrix(toWorldMat);\r\n            }\r\n        }\r\n        point = toWorldMat.applyToPointArray(point[0],point[1],point[2]||0);\r\n        if(state.parent.fromKeypathLayerPoint) {\r\n        \treturn state.parent.fromKeypathLayerPoint(point);\r\n        } else {\r\n        \treturn point;\r\n        }\r\n\t}\r\n\r\n\tfunction getTargetLayer() {\r\n\t\treturn state.element;\r\n\t}\r\n\r\n\tvar methods = {\r\n\t\tgetTargetLayer: getTargetLayer,\r\n\t\ttoKeypathLayerPoint: toKeypathLayerPoint,\r\n\t\tfromKeypathLayerPoint: fromKeypathLayerPoint\r\n\t}\r\n\r\n\t_buildPropertyMap();\r\n\r\n\treturn Object.assign(state, KeyPathNode(state), methods);\r\n}\r\n\r\nmodule.exports = LayerBase;","var layer_types = require('../enums/layer_types');\r\nvar layer_api = require('../helpers/layerAPIBuilder');\r\n\r\nfunction LayerList(elements) {\r\n\r\n\tfunction _getLength() {\r\n\t\treturn elements.length;\r\n\t}\r\n\r\n\tfunction _filterLayerByType(elements, type) {\r\n\t\treturn elements.filter(function(element) {\r\n\t\t\treturn element.data.ty === layer_types[type];\r\n\t\t});\r\n\t}\r\n\r\n\tfunction _filterLayerByName(elements, name) {\r\n\t\treturn elements.filter(function(element) {\r\n\t\t\treturn element.data.nm === name;\r\n\t\t});\r\n\t}\r\n\r\n\tfunction getLayers() {\r\n\t\t return LayerList(elements);\r\n\t}\r\n\r\n\tfunction getLayersByType(type) {\r\n\t\tvar elementsList = _filterLayerByType(elements, type);\r\n\t\treturn LayerList(elementsList);\r\n\t}\r\n\r\n\tfunction getLayersByName(type) {\r\n\t\tvar elementsList = _filterLayerByName(elements, type);\r\n\t\treturn LayerList(elementsList);\r\n\t}\r\n\r\n\tfunction layer(index) {\r\n\t\tif (index >= elements.length) {\r\n\t\t\treturn [];\r\n\t\t}\r\n\t\treturn layer_api(elements[parseInt(index)]);\r\n\t}\r\n\r\n\tfunction addIteratableMethods(iteratableMethods, list) {\r\n\t\titeratableMethods.reduce(function(accumulator, value){\r\n\t\t\tvar _value = value;\r\n\t\t\taccumulator[value] = function() {\r\n\t\t\t\tvar _arguments = arguments;\r\n\t\t\t\treturn elements.map(function(element){\r\n\t\t\t\t\tvar layer = layer_api(element);\r\n\t\t\t\t\tif(layer[_value]) {\r\n\t\t\t\t\t\treturn layer[_value].apply(null, _arguments);\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\treturn accumulator;\r\n\t\t}, methods);\r\n\t}\r\n\r\n\tfunction getTargetElements() {\r\n\t\treturn elements;\r\n\t}\r\n\r\n\tfunction concat(list) {\r\n\t\treturn elements.concat(list.getTargetElements());\r\n\t}\r\n\r\n\tvar methods = {\r\n\t\tgetLayers: getLayers,\r\n\t\tgetLayersByType: getLayersByType,\r\n\t\tgetLayersByName: getLayersByName,\r\n\t\tlayer: layer,\r\n\t\tconcat: concat,\r\n\t\tgetTargetElements: getTargetElements\r\n\t};\r\n\r\n\taddIteratableMethods(['setTranslate', 'getType', 'getDuration']);\r\n\taddIteratableMethods(['setText', 'getText', 'setDocumentData', 'canResizeFont', 'setMinimumFontSize']);\r\n\r\n\tObject.defineProperty(methods, 'length', {\r\n\t\tget: _getLength\r\n\t});\r\n\treturn methods;\r\n}\r\n\r\nmodule.exports = LayerList;","var KeyPathNode = require('../../key_path/KeyPathNode');\r\nvar Property = require('../../property/Property');\r\n\r\nfunction Camera(element, parent) {\r\n\r\n\tvar instance = {};\r\n\r\n\tvar state = {\r\n\t\telement: element,\r\n\t\tparent: parent,\r\n\t\tproperties: _buildPropertyMap()\r\n\t}\r\n\r\n\tfunction _buildPropertyMap() {\r\n\t\treturn [\r\n\t\t\t{\r\n\t\t\t\tname: 'Point of Interest',\r\n\t\t\t\tvalue: Property(element.a, parent)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Zoom',\r\n\t\t\t\tvalue: Property(element.pe, parent)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Position',\r\n\t\t\t\tvalue: Property(element.p, parent)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'X Rotation',\r\n\t\t\t\tvalue: Property(element.rx, parent)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Y Rotation',\r\n\t\t\t\tvalue: Property(element.ry, parent)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Z Rotation',\r\n\t\t\t\tvalue: Property(element.rz, parent)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Orientation',\r\n\t\t\t\tvalue: Property(element.or, parent)\r\n\t\t\t}\r\n\t\t]\r\n\t}\r\n\r\n\tfunction getTargetLayer() {\r\n\t\treturn state.element;\r\n\t}\r\n\r\n\tvar methods = {\r\n\t\tgetTargetLayer: getTargetLayer\r\n\t}\r\n\r\n\treturn Object.assign(instance, KeyPathNode(state), methods);\r\n}\r\n\r\nmodule.exports = Camera;","var KeyPathList = require('../../key_path/KeyPathList');\r\nvar LayerBase = require('../LayerBase');\r\nvar layer_api = require('../../helpers/layerAPIBuilder');\r\nvar Property = require('../../property/Property');\r\nvar TimeRemap = require('./TimeRemap');\r\n\r\nfunction Composition(element, parent) {\r\n\r\n\tvar instance = {};\r\n\r\n\tvar state = {\r\n\t\telement: element,\r\n\t\tparent: parent,\r\n\t\tproperties: _buildPropertyMap()\r\n\t}\r\n\r\n\tfunction buildLayerApi(layer, index) {\r\n\t\tvar _layerApi = null;\r\n\t\tvar ob = {\r\n\t\t\tname: layer.nm\r\n\t\t}\r\n\r\n\t\tfunction getLayerApi() {\r\n\t\t\tif(!_layerApi) {\r\n\t\t\t\t_layerApi = layer_api(element.elements[index], state)\r\n\t\t\t}\r\n\t\t\treturn _layerApi\r\n\t\t}\r\n\r\n\t\tObject.defineProperty(ob, 'value', {\r\n\t\t\tget : getLayerApi\r\n\t\t})\r\n\t\treturn ob;\r\n\t}\r\n\r\n\t\r\n\tfunction _buildPropertyMap() {\r\n\t\tvar compositionLayers = element.layers.map(buildLayerApi)\r\n\t\treturn [\r\n\t\t\t{\r\n\t\t\t\tname: 'Time Remap',\r\n\t\t\t\tvalue: TimeRemap(element.tm)\r\n\t\t\t}\r\n\t\t].concat(compositionLayers)\r\n\t}\r\n\r\n\tvar methods = {\r\n\t}\r\n\r\n\treturn Object.assign(instance, LayerBase(state), KeyPathList(state.elements, 'layer'), methods);\r\n}\r\n\r\nmodule.exports = Composition;","var KeyPathNode = require('../../key_path/KeyPathNode');\r\nvar ValueProperty = require('../../property/ValueProperty');\r\n\r\nfunction TimeRemap(property, parent) {\r\n\tvar state = {\r\n\t\tproperty: property,\r\n\t\tparent: parent\r\n\t}\r\n\r\n\tvar _isCallbackAdded = false;\r\n\tvar currentSegmentInit = 0;\r\n\tvar currentSegmentEnd = 0;\r\n\tvar previousTime = 0, currentTime = 0;\r\n\tvar initTime = 0;\r\n\tvar _loop = true;\r\n\tvar _loopCount = 0;\r\n\tvar _speed = 1;\r\n\tvar _paused = false;\r\n\tvar _isDebugging = false;\r\n\tvar queuedSegments = [];\r\n\tvar _destroyFunction;\r\n\tvar enterFrameCallback = null;\r\n\tvar enterFrameEvent = {\r\n\t\ttime: -1\r\n\t}\r\n\r\n\tfunction playSegment(init, end, clear) {\r\n\t\t_paused = false;\r\n\t\tif(clear) {\r\n\t\t\tclearQueue();\r\n\t\t\tcurrentTime = init;\r\n\t\t}\r\n\t\tif(_isDebugging) {\r\n\t\t\tconsole.log(init, end);\r\n\t\t}\r\n\t\t_loopCount = 0;\r\n\t\tpreviousTime = Date.now();\r\n\t\tcurrentSegmentInit = init;\r\n\t\tcurrentSegmentEnd = end;\r\n\t\taddCallback();\r\n\t}\r\n\r\n\tfunction playQueuedSegment() {\r\n\t\tvar newSegment = queuedSegments.shift();\r\n\t\tplaySegment(newSegment[0], newSegment[1]);\r\n\t}\r\n\r\n\tfunction queueSegment(init, end) {\r\n\t\tqueuedSegments.push([init, end]);\r\n\t}\r\n\r\n\tfunction clearQueue() {\r\n\t\tqueuedSegments.length = 0;\r\n\t}\r\n\r\n\tfunction _segmentPlayer(currentValue) {\r\n\t\tif(currentSegmentInit === currentSegmentEnd) {\r\n\t\t\tcurrentTime = currentSegmentInit;\r\n\t\t} else if(!_paused) {\r\n\t\t\tvar nowTime = Date.now();\r\n\t\t\tvar elapsedTime = _speed * (nowTime - previousTime) / 1000;\r\n\t\t\tpreviousTime = nowTime;\r\n\t\t\tif(currentSegmentInit < currentSegmentEnd) {\r\n\t\t\t\tcurrentTime += elapsedTime;\r\n\t\t\t\tif(currentTime > currentSegmentEnd) {\r\n\t\t\t\t\t_loopCount += 1;\r\n\t\t\t\t\tif(queuedSegments.length) {\r\n\t\t\t\t\t\tplayQueuedSegment();\r\n\t\t\t\t\t} else if(!_loop) {\r\n\t\t\t\t\t\tcurrentTime = currentSegmentEnd;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t/*currentTime -= Math.floor(currentTime / (currentSegmentEnd - currentSegmentInit)) * (currentSegmentEnd - currentSegmentInit);\r\n\t\t\t\t\t\tcurrentTime = currentSegmentInit + currentTime;*/\r\n\t\t\t\t\t\tcurrentTime = currentTime % (currentSegmentEnd - currentSegmentInit);\r\n\t\t\t\t\t\t//currentTime = currentSegmentInit + (currentTime);\r\n\t\t\t\t\t\t//currentTime = currentSegmentInit + (currentTime - currentSegmentEnd);\r\n\t\t\t\t\t\t //console.log('CT: ', currentTime) \r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tcurrentTime -= elapsedTime;\r\n\t\t\t\tif(currentTime < currentSegmentEnd) {\r\n\t\t\t\t\t_loopCount += 1;\r\n\t\t\t\t\tif(queuedSegments.length) {\r\n\t\t\t\t\t\tplayQueuedSegment();\r\n\t\t\t\t\t} else if(!_loop) {\r\n\t\t\t\t\t\tcurrentTime = currentSegmentEnd;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tcurrentTime = currentSegmentInit - (currentSegmentEnd - currentTime);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(_isDebugging) {\r\n\t\t\t\tconsole.log(currentTime)\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(instance.onEnterFrame && enterFrameEvent.time !== currentTime) {\r\n\t\t\tenterFrameEvent.time = currentTime;\r\n\t\t\tinstance.onEnterFrame(enterFrameEvent);\r\n\t\t}\r\n\t\treturn currentTime;\r\n\t}\r\n\r\n\tfunction addCallback() {\r\n\t\tif(!_isCallbackAdded) {\r\n\t\t\t_isCallbackAdded = true;\r\n\t\t\t_destroyFunction = instance.setValue(_segmentPlayer, _isDebugging)\r\n\t\t}\r\n\t}\r\n\r\n\tfunction playTo(end, clear) {\r\n\t\t_paused = false;\r\n\t\tif(clear) {\r\n\t\t\tclearQueue();\r\n\t\t}\r\n\t\taddCallback();\r\n\t\tcurrentSegmentEnd = end;\r\n\t}\r\n\r\n\tfunction getCurrentTime() {\r\n\t\tif(_isCallbackAdded) {\r\n\t\t\treturn currentTime;\r\n\t\t} else {\r\n\t\t\treturn property.v / property.mult;\r\n\t\t}\r\n\t}\r\n\r\n\tfunction setLoop(flag) {\r\n\t\t_loop = flag;\r\n\t}\r\n\r\n\tfunction setSpeed(value) {\r\n\t\t_speed = value;\r\n\t}\r\n\r\n\tfunction setDebugging(flag) {\r\n\t\t_isDebugging = flag;\r\n\t}\r\n\r\n\tfunction pause() {\r\n\t\t_paused = true;\r\n\t}\r\n\r\n\tfunction destroy() {\r\n\t\tif(_destroyFunction) {\r\n\t\t\t_destroyFunction();\r\n\t\t\tstate.property = null;\r\n\t\t\tstate.parent = null;\r\n\t\t}\r\n\t}\r\n\r\n\tvar methods = {\r\n\t\tplaySegment: playSegment,\r\n\t\tplayTo: playTo,\r\n\t\tqueueSegment: queueSegment,\r\n\t\tclearQueue: clearQueue,\r\n\t\tsetLoop: setLoop,\r\n\t\tsetSpeed: setSpeed,\r\n\t\tpause: pause,\r\n\t\tsetDebugging: setDebugging,\r\n\t\tgetCurrentTime: getCurrentTime,\r\n\t\tonEnterFrame: null,\r\n\t\tdestroy: destroy\r\n\t}\r\n\r\n\tvar instance = {}\r\n\r\n\treturn Object.assign(instance, methods, ValueProperty(state), KeyPathNode(state));\r\n}\r\n\r\nmodule.exports = TimeRemap;","var Property = require('../../property/Property');\r\n\r\nfunction EffectElement(effect, parent) {\r\n\r\n\treturn Property(effect.p, parent);\r\n}\r\n\r\nmodule.exports = EffectElement;","var KeyPathNode = require('../../key_path/KeyPathNode');\r\nvar Property = require('../../property/Property');\r\nvar EffectElement = require('./EffectElement');\r\n\r\nfunction Effects(effects, parent) {\r\n\r\n\tvar state = {\r\n\t\tparent: parent,\r\n\t\tproperties: buildProperties()\r\n\t}\r\n\r\n\tfunction getValue(effectData, index) {\r\n\t\tvar nm = effectData.data ? effectData.data.nm : index.toString();\r\n\t\tvar effectElement = effectData.data ? Effects(effectData.effectElements, parent) : Property(effectData.p, parent);\r\n\t\treturn {\r\n\t\t\tname: nm,\r\n\t\t\tvalue: effectElement\r\n\t\t}\r\n\t}\r\n\r\n\tfunction buildProperties() {\r\n\t\tvar i, len = effects.length;\r\n\t\tvar arr = [];\r\n\t\tfor (i = 0; i < len; i += 1) {\r\n\t\t\tarr.push(getValue(effects[i], i));\r\n\t\t}\r\n\t\treturn arr;\r\n\t}\r\n\r\n\tvar methods = {\r\n\t}\r\n\r\n\treturn Object.assign(methods, KeyPathNode(state));\r\n}\r\n\r\nmodule.exports = Effects;","var LayerBase = require('../LayerBase');\r\n\r\nfunction Image(element) {\r\n\r\n\tvar state = {\r\n\t\telement: element,\r\n\t\tparent: parent,\r\n\t\tproperties: _buildPropertyMap()\r\n\t}\r\n\r\n\tfunction _buildPropertyMap() {\r\n\t\treturn [\r\n\t\t]\r\n\t}\r\n\t\r\n\tvar methods = {\r\n\t}\r\n\r\n\treturn Object.assign({}, LayerBase(state), methods);\r\n}\r\n\r\nmodule.exports = Image;","var LayerBase = require('../LayerBase');\r\n\r\nfunction NullElement(element, parent) {\r\n\r\n\tvar instance = {};\r\n\r\n\tvar state = {\r\n\t\telement: element,\r\n\t\tparent: parent,\r\n\t\tproperties: _buildPropertyMap()\r\n\t}\r\n\r\n\tfunction _buildPropertyMap() {\r\n\t\treturn [\r\n\t\t]\r\n\t}\r\n\r\n\tvar methods = {\r\n\t}\r\n\r\n\treturn Object.assign(instance, LayerBase(state), methods);\r\n}\r\n\r\nmodule.exports = NullElement;","var LayerBase = require('../LayerBase');\r\nvar ShapeContents = require('./ShapeContents');\r\n\r\nfunction Shape(element, parent) {\r\n\r\n\tvar state = {\r\n\t\tproperties: [],\r\n\t\tparent: parent,\r\n\t\telement: element\r\n\t}\r\n\tvar shapeContents = ShapeContents(element.data.shapes, element.itemsData, state);\r\n\r\n\t\r\n\r\n\tfunction _buildPropertyMap() {\r\n\t\tstate.properties.push(\r\n\t\t\t{\r\n\t\t\t\tname: 'Contents',\r\n\t\t\t\tvalue: shapeContents\r\n\t\t\t}\r\n\t\t)\r\n\t}\r\n\r\n\tvar methods = {\r\n\t}\r\n\r\n\t_buildPropertyMap();\r\n\r\n\treturn Object.assign(state, LayerBase(state), methods);\r\n}\r\n\r\nmodule.exports = Shape;","var KeyPathNode = require('../../key_path/KeyPathNode');\r\nvar Property = require('../../property/Property');\r\nvar ShapeRectangle = require('./ShapeRectangle');\r\nvar ShapeFill = require('./ShapeFill');\r\nvar ShapeStroke = require('./ShapeStroke');\r\nvar ShapeEllipse = require('./ShapeEllipse');\r\nvar ShapeGradientFill = require('./ShapeGradientFill');\r\nvar ShapeGradientStroke = require('./ShapeGradientStroke');\r\nvar ShapeTrimPaths = require('./ShapeTrimPaths');\r\nvar ShapeRepeater = require('./ShapeRepeater');\r\nvar ShapePolystar = require('./ShapePolystar');\r\nvar ShapeRoundCorners = require('./ShapeRoundCorners');\r\nvar ShapePath = require('./ShapePath');\r\nvar Transform = require('../transform/Transform');\r\nvar Matrix = require('../../helpers/transformationMatrix');\r\n\r\nfunction ShapeContents(shapesData, shapes, parent) {\r\n\tvar state = {\r\n\t\tproperties: _buildPropertyMap(),\r\n\t\tparent: parent\r\n\t}\r\n\r\n\tvar cachedShapeProperties = [];\r\n\r\n\tfunction buildShapeObject(shape, index) {\r\n\t\tvar ob = {\r\n\t\t\tname: shape.nm\r\n\t\t}\r\n\t\tObject.defineProperty(ob, 'value', {\r\n\t\t   get() {\r\n\t\t   \tif(cachedShapeProperties[index]) {\r\n\t\t   \t\treturn cachedShapeProperties[index];\r\n\t\t   \t} else {\r\n\t\t   \t\tvar property;\r\n\t\t   \t}\r\n\t   \t\tif(shape.ty === 'gr') {\r\n\t   \t\t\tproperty = ShapeContents(shapesData[index].it, shapes[index].it, state);\r\n\t   \t\t} else if(shape.ty === 'rc') {\r\n\t   \t\t\tproperty = ShapeRectangle(shapes[index], state);\r\n\t   \t\t} else if(shape.ty === 'el') {\r\n\t   \t\t\tproperty = ShapeEllipse(shapes[index], state);\r\n\t   \t\t} else if(shape.ty === 'fl') {\r\n\t   \t\t\tproperty = ShapeFill(shapes[index], state);\r\n\t   \t\t} else if(shape.ty === 'st') {\r\n\t   \t\t\tproperty = ShapeStroke(shapes[index], state);\r\n\t   \t\t} else if(shape.ty === 'gf') {\r\n\t   \t\t\tproperty = ShapeGradientFill(shapes[index], state);\r\n\t   \t\t} else if(shape.ty === 'gs') {\r\n\t   \t\t\tproperty = ShapeGradientStroke(shapes[index], state);\r\n\t   \t\t} else if(shape.ty === 'tm') {\r\n\t   \t\t\tproperty = ShapeTrimPaths(shapes[index], state);\r\n\t   \t\t} else if(shape.ty === 'rp') {\r\n\t   \t\t\tproperty = ShapeRepeater(shapes[index], state);\r\n\t   \t\t} else if(shape.ty === 'sr') {\r\n\t   \t\t\tproperty = ShapePolystar(shapes[index], state);\r\n\t   \t\t} else if(shape.ty === 'rd') {\r\n\t   \t\t\tproperty = ShapeRoundCorners(shapes[index], state);\r\n\t   \t\t} else if(shape.ty === 'sh') {\r\n\t   \t\t\tproperty = ShapePath(shapes[index], state);\r\n\t   \t\t} else if(shape.ty === 'tr') {\r\n\t   \t\t\tproperty = Transform(shapes[index].transform.mProps, state);\r\n\t   \t\t} else {\r\n\t   \t\t\tconsole.log(shape.ty);\r\n\t   \t\t}\r\n\t   \t\tcachedShapeProperties[index] = property;\r\n\t   \t\treturn property;\r\n\t\t   }\r\n\t\t});\r\n\t\treturn ob\r\n\t}\r\n\r\n\tfunction _buildPropertyMap() {\r\n\t\treturn shapesData.map(function(shape, index) {\r\n\t\t\treturn buildShapeObject(shape, index)\r\n\t\t});\r\n\t}\r\n\r\n\tfunction fromKeypathLayerPoint(point) {\r\n\t\tif(state.hasProperty('Transform')) {\r\n    \t\tvar toWorldMat = Matrix();\r\n        \tvar transformMat = state.getProperty('Transform').getTargetTransform();\r\n\t\t\ttransformMat.applyToMatrix(toWorldMat);\r\n        \tpoint = toWorldMat.applyToPointArray(point[0],point[1],point[2]||0);\r\n\t\t}\r\n\t\treturn state.parent.fromKeypathLayerPoint(point);\r\n\t}\r\n\r\n\tfunction toKeypathLayerPoint(point) {\r\n\t\tpoint = state.parent.toKeypathLayerPoint(point);\r\n\t\tif(state.hasProperty('Transform')) {\r\n    \t\tvar toWorldMat = Matrix();\r\n        \tvar transformMat = state.getProperty('Transform').getTargetTransform();\r\n\t\t\ttransformMat.applyToMatrix(toWorldMat);\r\n        \tpoint = toWorldMat.inversePoint(point);\r\n\t\t}\r\n\t\treturn point;\r\n\t}\r\n\r\n\tvar methods = {\r\n\t\tfromKeypathLayerPoint: fromKeypathLayerPoint,\r\n\t\ttoKeypathLayerPoint: toKeypathLayerPoint\r\n\t}\r\n\r\n\t//state.properties = _buildPropertyMap();\r\n\r\n\treturn Object.assign(state, KeyPathNode(state), methods)\r\n}\r\n\r\nmodule.exports = ShapeContents;","var KeyPathNode = require('../../key_path/KeyPathNode');\r\nvar Property = require('../../property/Property');\r\n\r\nfunction ShapeEllipse(element, parent) {\r\n\r\n\tvar state = {\r\n\t\tparent: parent,\r\n\t\tproperties: _buildPropertyMap()\r\n\t}\r\n\r\n\tfunction _buildPropertyMap() {\r\n\t\treturn [\r\n\t\t\t{\r\n\t\t\t\tname: 'Size',\r\n\t\t\t\tvalue: Property(element.sh.s, parent)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Position',\r\n\t\t\t\tvalue: Property(element.sh.p, parent)\r\n\t\t\t}\r\n\t\t]\r\n\t}\r\n\r\n\tvar methods = {\r\n\t}\r\n\r\n\treturn Object.assign(methods, KeyPathNode(state));\r\n}\r\n\r\nmodule.exports = ShapeEllipse;","var KeyPathNode = require('../../key_path/KeyPathNode');\r\nvar Property = require('../../property/Property');\r\n\r\nfunction ShapeFill(element, parent) {\r\n\r\n\tvar state = {\r\n\t\tparent: parent,\r\n\t\tproperties: _buildPropertyMap()\r\n\t}\r\n\r\n\tfunction _buildPropertyMap() {\r\n\t\treturn [\r\n\t\t\t{\r\n\t\t\t\tname: 'Color',\r\n\t\t\t\tvalue: Property(element.c, parent)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Opacity',\r\n\t\t\t\tvalue: {\r\n\t\t\t\t\tsetValue: Property(element.o, parent)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t]\r\n\t}\r\n\r\n\tvar methods = {\r\n\t}\r\n\r\n\treturn Object.assign(methods, KeyPathNode(state));\r\n}\r\n\r\nmodule.exports = ShapeFill;","var KeyPathNode = require('../../key_path/KeyPathNode');\r\nvar Property = require('../../property/Property');\r\n\r\nfunction ShapeGradientFill(element, parent) {\r\n\r\n\tvar state = {\r\n\t\tparent: parent,\r\n\t\tproperties: _buildPropertyMap()\r\n\t}\r\n\r\n\tfunction _buildPropertyMap() {\r\n\t\treturn [\r\n\t\t\t{\r\n\t\t\t\tname: 'Start Point',\r\n\t\t\t\tvalue: Property(element.s, parent)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'End Point',\r\n\t\t\t\tvalue: Property(element.s, parent)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Opacity',\r\n\t\t\t\tvalue: Property(element.o, parent)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Highlight Length',\r\n\t\t\t\tvalue: Property(element.h, parent)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Highlight Angle',\r\n\t\t\t\tvalue: Property(element.a, parent)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Colors',\r\n\t\t\t\tvalue: Property(element.g.prop, parent)\r\n\t\t\t}\r\n\t\t]\r\n\t}\r\n\r\n\tvar methods = {\r\n\t}\r\n\r\n\treturn Object.assign(methods, KeyPathNode(state));\r\n}\r\n\r\nmodule.exports = ShapeGradientFill;","var KeyPathNode = require('../../key_path/KeyPathNode');\r\nvar Property = require('../../property/Property');\r\n\r\nfunction ShapeGradientStroke(element, parent) {\r\n\r\n\tvar state = {\r\n\t\tparent: parent,\r\n\t\tproperties: _buildPropertyMap()\r\n\t}\r\n\r\n\tfunction _buildPropertyMap() {\r\n\t\treturn [\r\n\t\t\t{\r\n\t\t\t\tname: 'Start Point',\r\n\t\t\t\tvalue: Property(element.s, parent)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'End Point',\r\n\t\t\t\tvalue: Property(element.e, parent)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Opacity',\r\n\t\t\t\tvalue: Property(element.o, parent)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Highlight Length',\r\n\t\t\t\tvalue: Property(element.h, parent)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Highlight Angle',\r\n\t\t\t\tvalue: Property(element.a, parent)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Colors',\r\n\t\t\t\tvalue: Property(element.g.prop, parent)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Stroke Width',\r\n\t\t\t\tvalue: Property(element.w, parent)\r\n\t\t\t}\r\n\t\t]\r\n\t}\r\n\r\n\tvar methods = {\r\n\t}\r\n\r\n\treturn Object.assign(methods, KeyPathNode(state));\r\n}\r\n\r\nmodule.exports = ShapeGradientStroke;","var KeyPathNode = require('../../key_path/KeyPathNode');\r\nvar Property = require('../../property/Property');\r\n\r\nfunction ShapePath(element, parent) {\r\n\r\n\tvar state = {\r\n\t\tparent: parent,\r\n\t\tproperties: _buildPropertyMap()\r\n\t}\r\n\r\n\tfunction setPath(value) {\r\n\t\tProperty(element.sh).setValue(value);\r\n\t}\r\n\r\n\tfunction _buildPropertyMap() {\r\n\t\treturn [\r\n\t\t\t{\r\n\t\t\t\tname: 'path',\r\n\t\t\t\tvalue:Property(element.sh, parent)\r\n\t\t\t}\r\n\t\t]\r\n\t}\r\n\r\n\tvar methods = {\r\n\t}\r\n\r\n\treturn Object.assign(methods, KeyPathNode(state));\r\n}\r\n\r\nmodule.exports = ShapePath;","var KeyPathNode = require('../../key_path/KeyPathNode');\r\nvar Property = require('../../property/Property');\r\n\r\nfunction ShapePolystar(element, parent) {\r\n\r\n\tvar state = {\r\n\t\tparent: parent,\r\n\t\tproperties: _buildPropertyMap()\r\n\t}\r\n\r\n\tfunction _buildPropertyMap() {\r\n\t\treturn [\r\n\t\t\t{\r\n\t\t\t\tname: 'Points',\r\n\t\t\t\tvalue: Property(element.sh.pt, parent)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Position',\r\n\t\t\t\tvalue: Property(element.sh.p, parent)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Rotation',\r\n\t\t\t\tvalue: Property(element.sh.r, parent)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Inner Radius',\r\n\t\t\t\tvalue: Property(element.sh.ir, parent)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Outer Radius',\r\n\t\t\t\tvalue: Property(element.sh.or, parent)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Inner Roundness',\r\n\t\t\t\tvalue: Property(element.sh.is, parent)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Outer Roundness',\r\n\t\t\t\tvalue: Property(element.sh.os, parent)\r\n\t\t\t}\r\n\t\t]\r\n\t}\r\n\r\n\tvar methods = {\r\n\t}\r\n\r\n\treturn Object.assign(methods, KeyPathNode(state));\r\n}\r\n\r\nmodule.exports = ShapePolystar;","var KeyPathNode = require('../../key_path/KeyPathNode');\r\nvar Property = require('../../property/Property');\r\n\r\nfunction ShapeRectangle(element, parent) {\r\n\r\n\tvar state = {\r\n\t\tparent: parent,\r\n\t\tproperties: _buildPropertyMap()\r\n\t}\r\n\r\n\tfunction _buildPropertyMap() {\r\n\t\treturn [\r\n\t\t\t{\r\n\t\t\t\tname: 'Size',\r\n\t\t\t\tvalue: Property(element.sh.s, parent)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Position',\r\n\t\t\t\tvalue: Property(element.sh.p, parent)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Roundness',\r\n\t\t\t\tvalue: Property(element.sh.r, parent)\r\n\t\t\t}\r\n\t\t]\r\n\t}\r\n\r\n\tvar methods = {\r\n\t}\r\n\r\n\treturn Object.assign(methods, KeyPathNode(state));\r\n}\r\n\r\nmodule.exports = ShapeRectangle;","var KeyPathNode = require('../../key_path/KeyPathNode');\r\nvar Property = require('../../property/Property');\r\nvar Transform = require('../transform/Transform');\r\n\r\nfunction ShapeRepeater(element, parent) {\r\n\r\n\tvar state = {\r\n\t\tparent: parent,\r\n\t\tproperties: _buildPropertyMap()\r\n\t}\r\n\r\n\tfunction _buildPropertyMap() {\r\n\t\treturn [\r\n\t\t\t{\r\n\t\t\t\tname: 'Copies',\r\n\t\t\t\tvalue: Property(element.c, parent)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Offset',\r\n\t\t\t\tvalue: Property(element.o, parent)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Transform',\r\n\t\t\t\tvalue: Transform(element.tr, parent)\r\n\t\t\t}\r\n\t\t]\r\n\t}\r\n\r\n\tvar methods = {\r\n\t}\r\n\r\n\treturn Object.assign(methods, KeyPathNode(state));\r\n}\r\n\r\nmodule.exports = ShapeRepeater;","var KeyPathNode = require('../../key_path/KeyPathNode');\r\nvar Property = require('../../property/Property');\r\n\r\nfunction ShapeRoundCorners(element, parent) {\r\n\r\n\tvar state = {\r\n\t\tparent: parent,\r\n\t\tproperties: _buildPropertyMap()\r\n\t}\r\n\r\n\tfunction _buildPropertyMap() {\r\n\t\treturn [\r\n\t\t\t{\r\n\t\t\t\tname: 'Radius',\r\n\t\t\t\tvalue: Property(element.rd, parent)\r\n\t\t\t}\r\n\t\t]\r\n\t}\r\n\r\n\tvar methods = {\r\n\t}\r\n\r\n\treturn Object.assign(methods, KeyPathNode(state));\r\n}\r\n\r\nmodule.exports = ShapeRoundCorners;","var KeyPathNode = require('../../key_path/KeyPathNode');\r\nvar Property = require('../../property/Property');\r\n\r\nfunction ShapeStroke(element, parent) {\r\n\tvar state = {\r\n\t\tparent: parent,\r\n\t\tproperties: _buildPropertyMap()\r\n\t}\r\n\r\n\tfunction _buildPropertyMap() {\r\n\t\treturn [\r\n\t\t\t{\r\n\t\t\t\tname: 'Color',\r\n\t\t\t\tvalue: Property(element.c, parent)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Stroke Width',\r\n\t\t\t\tvalue: Property(element.w, parent)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Opacity',\r\n\t\t\t\tvalue: Property(element.o, parent)\r\n\t\t\t}\r\n\t\t]\r\n\t}\r\n\r\n\tvar methods = {\r\n\t}\r\n\r\n\treturn Object.assign(methods, KeyPathNode(state));\r\n}\r\n\r\nmodule.exports = ShapeStroke","var KeyPathNode = require('../../key_path/KeyPathNode');\r\nvar Property = require('../../property/Property');\r\n\r\nfunction ShapeTrimPaths(element, parent) {\r\n\r\n\tvar state = {\r\n\t\tparent: parent,\r\n\t\tproperties: _buildPropertyMap()\r\n\t}\r\n\r\n\tfunction _buildPropertyMap() {\r\n\t\treturn [\r\n\t\t\t{\r\n\t\t\t\tname: 'Start',\r\n\t\t\t\tvalue: Property(element.s, parent)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'End',\r\n\t\t\t\tvalue: Property(element.e, parent)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Offset',\r\n\t\t\t\tvalue: Property(element.o, parent)\r\n\t\t\t}\r\n\t\t]\r\n\t}\r\n\r\n\tvar methods = {\r\n\t}\r\n\r\n\treturn Object.assign(methods, KeyPathNode(state));\r\n}\r\n\r\nmodule.exports = ShapeTrimPaths;","var LayerBase = require('../LayerBase');\r\n\r\nfunction Solid(element, parent) {\r\n\r\n\tvar state = {\r\n\t\telement: element,\r\n\t\tparent: parent,\r\n\t\tproperties: _buildPropertyMap()\r\n\t}\r\n\r\n\tfunction _buildPropertyMap() {\r\n\t\treturn [\r\n\t\t]\r\n\t}\r\n\r\n\tvar methods = {\r\n\t}\r\n\r\n\treturn Object.assign({}, LayerBase(state), methods);\r\n}\r\n\r\nmodule.exports = Solid;","var KeyPathNode = require('../../key_path/KeyPathNode');\r\nvar Property = require('../../property/Property');\r\nvar TextAnimator = require('./TextAnimator');\r\n\r\nfunction Text(element, parent) {\r\n\r\n\tvar instance = {}\r\n\r\n\tvar state = {\r\n\t\telement: element,\r\n\t\tparent: parent,\r\n\t\tproperties: _buildPropertyMap()\r\n\t}\r\n\r\n\tfunction setDocumentData(_function) {\r\n\t\tvar previousValue;\r\n\t\tvar textDocumentUpdater = function(data) {\r\n\t\t\tvar newValue = _function(element.textProperty.currentData);\r\n\t\t\tif (previousValue !== newValue) {\r\n\t\t\t\tpreviousValue = newValue;\r\n\t\t\t\treturn Object.assign({}, data, newValue, {__complete: false});\r\n\t\t\t}\r\n\t\t\treturn data\r\n\t\t}\r\n\t\telement.textProperty.addEffect(textDocumentUpdater);\r\n\t}\r\n\r\n\tfunction addAnimators() {\r\n\t\tvar animatorProperties = [];\r\n\t\tvar animators = element.textAnimator._animatorsData;\r\n\t\tvar i, len = animators.length;\r\n\t\tvar textAnimator;\r\n\t\tfor (i = 0; i < len; i += 1) {\r\n\t\t\ttextAnimator = TextAnimator(animators[i])\r\n\t\t\tanimatorProperties.push({\r\n\t\t\t\tname: element.textAnimator._textData.a[i].nm || 'Animator ' + (i+1), //Fallback for old animations\r\n\t\t\t\tvalue: textAnimator\r\n\t\t\t})\r\n\t\t}\r\n\t\treturn animatorProperties;\r\n\t}\r\n\r\n\tfunction _buildPropertyMap() {\r\n\t\treturn [\r\n\t\t\t{\r\n\t\t\t\tname:'Source',\r\n\t\t\t\tvalue: {\r\n\t\t\t\t\tsetValue: setDocumentData\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t].concat(addAnimators())\r\n\t}\r\n\r\n\tvar methods = {\r\n\t}\r\n\r\n\treturn Object.assign(instance, methods, KeyPathNode(state));\r\n\r\n}\r\n\r\nmodule.exports = Text;","var KeyPathNode = require('../../key_path/KeyPathNode');\r\nvar Property = require('../../property/Property');\r\n\r\nfunction TextAnimator(animator) {\r\n\r\n\tvar instance = {}\r\n\r\n\tvar state = {\r\n\t\tproperties: _buildPropertyMap()\r\n\t}\r\n\r\n\tfunction setAnchorPoint(value) {\r\n\t\tProperty(animator.a.a).setValue(value);\r\n\t}\r\n\r\n\tfunction setFillBrightness(value) {\r\n\t\tProperty(animator.a.fb).setValue(value);\r\n\t}\r\n\r\n\tfunction setFillColor(value) {\r\n\t\tProperty(animator.a.fc).setValue(value);\r\n\t}\r\n\r\n\tfunction setFillHue(value) {\r\n\t\tProperty(animator.a.fh).setValue(value);\r\n\t}\r\n\r\n\tfunction setFillSaturation(value) {\r\n\t\tProperty(animator.a.fs).setValue(value);\r\n\t}\r\n\r\n\tfunction setFillOpacity(value) {\r\n\t\tProperty(animator.a.fo).setValue(value);\r\n\t}\r\n\r\n\tfunction setOpacity(value) {\r\n\t\tProperty(animator.a.o).setValue(value);\r\n\t}\r\n\r\n\tfunction setPosition(value) {\r\n\t\tProperty(animator.a.p).setValue(value);\r\n\t}\r\n\r\n\tfunction setRotation(value) {\r\n\t\tProperty(animator.a.r).setValue(value);\r\n\t}\r\n\r\n\tfunction setRotationX(value) {\r\n\t\tProperty(animator.a.rx).setValue(value);\r\n\t}\r\n\r\n\tfunction setRotationY(value) {\r\n\t\tProperty(animator.a.ry).setValue(value);\r\n\t}\r\n\r\n\tfunction setScale(value) {\r\n\t\tProperty(animator.a.s).setValue(value);\r\n\t}\r\n\r\n\tfunction setSkewAxis(value) {\r\n\t\tProperty(animator.a.sa).setValue(value);\r\n\t}\r\n\r\n\tfunction setStrokeColor(value) {\r\n\t\tProperty(animator.a.sc).setValue(value);\r\n\t}\r\n\r\n\tfunction setSkew(value) {\r\n\t\tProperty(animator.a.sk).setValue(value);\r\n\t}\r\n\r\n\tfunction setStrokeOpacity(value) {\r\n\t\tProperty(animator.a.so).setValue(value);\r\n\t}\r\n\r\n\tfunction setStrokeWidth(value) {\r\n\t\tProperty(animator.a.sw).setValue(value);\r\n\t}\r\n\r\n\tfunction setStrokeBrightness(value) {\r\n\t\tProperty(animator.a.sb).setValue(value);\r\n\t}\r\n\r\n\tfunction setStrokeHue(value) {\r\n\t\tProperty(animator.a.sh).setValue(value);\r\n\t}\r\n\r\n\tfunction setStrokeSaturation(value) {\r\n\t\tProperty(animator.a.ss).setValue(value);\r\n\t}\r\n\r\n\tfunction setTrackingAmount(value) {\r\n\t\tProperty(animator.a.t).setValue(value);\r\n\t}\r\n\r\n\tfunction _buildPropertyMap() {\r\n\t\treturn [\r\n\t\t\t{\r\n\t\t\t\tname:'Anchor Point',\r\n\t\t\t\tvalue: {\r\n\t\t\t\t\tsetValue: setAnchorPoint\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname:'Fill Brightness',\r\n\t\t\t\tvalue: {\r\n\t\t\t\t\tsetValue: setFillBrightness\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname:'Fill Color',\r\n\t\t\t\tvalue: {\r\n\t\t\t\t\tsetValue: setFillColor\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname:'Fill Hue',\r\n\t\t\t\tvalue: {\r\n\t\t\t\t\tsetValue: setFillHue\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname:'Fill Saturation',\r\n\t\t\t\tvalue: {\r\n\t\t\t\t\tsetValue: setFillSaturation\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname:'Fill Opacity',\r\n\t\t\t\tvalue: {\r\n\t\t\t\t\tsetValue: setFillOpacity\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname:'Opacity',\r\n\t\t\t\tvalue: {\r\n\t\t\t\t\tsetValue: setOpacity\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname:'Position',\r\n\t\t\t\tvalue: {\r\n\t\t\t\t\tsetValue: setPosition\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname:'Rotation X',\r\n\t\t\t\tvalue: {\r\n\t\t\t\t\tsetValue: setRotationX\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname:'Rotation Y',\r\n\t\t\t\tvalue: {\r\n\t\t\t\t\tsetValue: setRotationY\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname:'Scale',\r\n\t\t\t\tvalue: {\r\n\t\t\t\t\tsetValue: setScale\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname:'Skew Axis',\r\n\t\t\t\tvalue: {\r\n\t\t\t\t\tsetValue: setSkewAxis\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname:'Stroke Color',\r\n\t\t\t\tvalue: {\r\n\t\t\t\t\tsetValue: setStrokeColor\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname:'Skew',\r\n\t\t\t\tvalue: {\r\n\t\t\t\t\tsetValue: setSkew\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname:'Stroke Width',\r\n\t\t\t\tvalue: {\r\n\t\t\t\t\tsetValue: setStrokeWidth\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname:'Tracking Amount',\r\n\t\t\t\tvalue: {\r\n\t\t\t\t\tsetValue: setTrackingAmount\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname:'Stroke Opacity',\r\n\t\t\t\tvalue: {\r\n\t\t\t\t\tsetValue: setStrokeOpacity\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname:'Stroke Brightness',\r\n\t\t\t\tvalue: {\r\n\t\t\t\t\tsetValue: setStrokeBrightness\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname:'Stroke Saturation',\r\n\t\t\t\tvalue: {\r\n\t\t\t\t\tsetValue: setStrokeSaturation\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname:'Stroke Hue',\r\n\t\t\t\tvalue: {\r\n\t\t\t\t\tsetValue: setStrokeHue\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t]\r\n\t}\r\n\r\n\tvar methods = {\r\n\t}\r\n\r\n\treturn Object.assign(instance, methods, KeyPathNode(state));\r\n\r\n}\r\n\r\nmodule.exports = TextAnimator;","var LayerBase = require('../LayerBase');\r\nvar Text = require('./Text');\r\n\r\nfunction TextElement(element) {\r\n\r\n\tvar instance = {};\r\n\r\n\tvar TextProperty = Text(element);\r\n\tvar state = {\r\n\t\telement: element,\r\n\t\tproperties: _buildPropertyMap()\r\n\t}\r\n\r\n\tfunction _buildPropertyMap() {\r\n\t\treturn [\r\n\t\t\t{\r\n\t\t\t\tname: 'text',\r\n\t\t\t\tvalue: TextProperty\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Text',\r\n\t\t\t\tvalue: TextProperty\r\n\t\t\t}\r\n\t\t]\r\n\t}\r\n\r\n\tfunction getText() {\r\n\t\treturn element.textProperty.currentData.t;\r\n\t}\r\n\r\n\tfunction setText(value, index) {\r\n\t\tsetDocumentData({t: value}, index);\r\n\t}\r\n\r\n\tfunction setDocumentData(data, index) {\r\n\t\treturn element.updateDocumentData(data, index);\r\n\t}\r\n\t\r\n\tfunction canResizeFont(_canResize) {\r\n\t\treturn element.canResizeFont(_canResize);\r\n\t}\r\n\r\n\tfunction setMinimumFontSize(_fontSize) {\r\n\t\treturn element.setMinimumFontSize(_fontSize);\r\n\t}\r\n\r\n\tvar methods = {\r\n\t\tgetText: getText,\r\n\t\tsetText: setText,\r\n\t\tcanResizeFont: canResizeFont,\r\n\t\tsetDocumentData: setDocumentData,\r\n\t\tsetMinimumFontSize: setMinimumFontSize\r\n\t}\r\n\r\n\treturn Object.assign(instance, LayerBase(state), methods);\r\n\r\n}\r\n\r\nmodule.exports = TextElement;","var KeyPathNode = require('../../key_path/KeyPathNode');\r\nvar Property = require('../../property/Property');\r\n\r\nfunction Transform(props, parent) {\r\n\tvar state = {\r\n\t\tproperties: _buildPropertyMap()\r\n\t}\r\n\r\n\tfunction _buildPropertyMap() {\r\n\t\treturn [\r\n\t\t\t{\r\n\t\t\t\tname: 'Anchor Point',\r\n\t\t\t\tvalue: Property(props.a, parent)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Point of Interest',\r\n\t\t\t\tvalue: Property(props.a, parent)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Position',\r\n\t\t\t\tvalue: Property(props.p, parent)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Scale',\r\n\t\t\t\tvalue: Property(props.s, parent)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Rotation',\r\n\t\t\t\tvalue: Property(props.r, parent)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'X Position',\r\n\t\t\t\tvalue: Property(props.px, parent)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Y Position',\r\n\t\t\t\tvalue: Property(props.py, parent)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Z Position',\r\n\t\t\t\tvalue: Property(props.pz, parent)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'X Rotation',\r\n\t\t\t\tvalue: Property(props.rx, parent)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Y Rotation',\r\n\t\t\t\tvalue: Property(props.ry, parent)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Z Rotation',\r\n\t\t\t\tvalue: Property(props.rz, parent)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'Opacity',\r\n\t\t\t\tvalue: Property(props.o, parent)\r\n\t\t\t}\r\n\t\t]\r\n\t}\r\n\r\n\tfunction getTargetTransform() {\r\n\t\treturn props;\r\n\t}\r\n\r\n\tvar methods = {\r\n\t\tgetTargetTransform: getTargetTransform\r\n\t}\r\n\r\n\treturn Object.assign(methods, KeyPathNode(state));\r\n}\r\n\r\nmodule.exports = Transform;","var KeyPathNode = require('../key_path/KeyPathNode');\r\nvar ValueProperty = require('./ValueProperty');\r\n\r\nfunction Property(property, parent) {\r\n\tvar state = {\r\n\t\tproperty: property,\r\n\t\tparent: parent\r\n\t}\r\n\r\n\tfunction destroy() {\r\n\t\tstate.property = null;\r\n\t\tstate.parent = null;\r\n\t}\r\n\r\n\tvar methods = {\r\n\t\tdestroy: destroy\r\n\t}\r\n\r\n\treturn Object.assign({}, methods, ValueProperty(state), KeyPathNode(state));\r\n}\r\n\r\nmodule.exports = Property;","function ValueProperty(state) {\r\n\t\r\n\tfunction setValue(value) {\r\n\t\tvar property = state.property;\r\n\t\tif(!property || !property.addEffect) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (typeof value === 'function') {\r\n\t\t\treturn property.addEffect(value);\r\n\t\t} else if (property.propType === 'multidimensional' && typeof value === 'object' && value.length === 2) {\r\n\t\t\treturn property.addEffect(function(){return value});\r\n\t\t} else if (property.propType === 'unidimensional' && typeof value === 'number') {\r\n\t\t\treturn property.addEffect(function(){return value});\r\n\t\t}\r\n\t}\r\n\r\n\tfunction getValue() {\r\n\t\treturn state.property.v;\r\n\t}\r\n\r\n\tvar methods = {\r\n\t\tsetValue: setValue,\r\n\t\tgetValue: getValue\r\n\t}\r\n\r\n\treturn methods;\r\n}\r\n\r\nmodule.exports = ValueProperty;","var LayerList = require('../layer/LayerList');\r\nvar KeyPathList = require('../key_path/KeyPathList');\r\n\r\nfunction Renderer(state) {\r\n\r\n\tstate._type = 'renderer';\r\n\r\n\tfunction getRendererType() {\r\n\t\treturn state.animation.animType;\r\n\t}\r\n\r\n\treturn Object.assign({\r\n\t\tgetRendererType: getRendererType\r\n\t}, LayerList(state.elements), KeyPathList(state.elements, 'renderer'));\r\n}\r\n\r\nmodule.exports = Renderer;"],"sourceRoot":""},"metadata":{},"sourceType":"script"}