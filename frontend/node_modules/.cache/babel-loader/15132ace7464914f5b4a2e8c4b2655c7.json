{"ast":null,"code":"import \"antd/lib/message/style\";\nimport _message from \"antd/lib/message\";\nvar _jsxFileName = \"/Users/apple/mu-grievance-redessal-portal/frontend/src/pages/ViewGrievance/ViewGrievance.jsx\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport { useQuery, useMutation } from \"react-query\";\nimport { useParams, useHistory } from \"react-router-dom\";\nimport Grievance from \"components/Grievance/Grievance\";\nimport { Spinner } from \"components/Loaders/Loaders\";\nimport { errorMessage, goBackOnError } from \"utils/modalMessage\";\nimport { getGrievance, rejectGrievance, selectGrievance } from \"APIs/grievance\";\nimport { addComment } from \"APIs/grievance\";\nimport Layout from \"containers/Layout/Layout\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ViewGrievance = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const history = useHistory();\n  const {\n    isLoading,\n    data,\n    error,\n    refetch\n  } = useQuery([\"grievance\", id], getGrievance, {\n    retry: 1,\n    onError: () => goBackOnError(() => history.goBack())\n  });\n  const [rejectMutation, {\n    isLoading: rejectMutationLoading\n  }] = useMutation(rejectGrievance, {\n    onSuccess: () => {\n      _message.success(`Rejected Successfully!`);\n      history.goBack();\n    },\n    onError: errorMessage\n  });\n  const [selectMutation, {\n    isLoading: selectMutationLoading\n  }] = useMutation(selectGrievance, {\n    onSuccess: () => {\n      _message.success(`Selected successfully`);\n      history.goBack();\n    },\n    onError: errorMessage\n  });\n  const [addCommentMutation, {\n    isLoading: addCommentLoading\n  }] = useMutation(addComment, {\n    onSuccess: () => {\n      refetch();\n      _message.success(`Comment Added`);\n    },\n    onError: errorMessage\n  });\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    children: isLoading ? /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }, this) : !error && /*#__PURE__*/_jsxDEV(Grievance, {\n      grievance: data.grievance,\n      rejectMutation: rejectMutation,\n      selectMutation: selectMutation,\n      author: data.student,\n      addCommentMutation: addCommentMutation,\n      addCommentLoading: addCommentLoading,\n      selectMutationLoading: selectMutationLoading,\n      rejectMutationLoading: rejectMutationLoading\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 11\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n};\n_s(ViewGrievance, \"ZkPVZQIaGYPYZlOaoPcHTK3U3fM=\", false, function () {\n  return [useParams, useHistory, useQuery, useMutation, useMutation, useMutation];\n});\n_c = ViewGrievance;\nexport default ViewGrievance;\nvar _c;\n$RefreshReg$(_c, \"ViewGrievance\");","map":{"version":3,"names":["React","useQuery","useMutation","useParams","useHistory","Grievance","Spinner","errorMessage","goBackOnError","getGrievance","rejectGrievance","selectGrievance","addComment","Layout","jsxDEV","_jsxDEV","ViewGrievance","_s","id","history","isLoading","data","error","refetch","retry","onError","goBack","rejectMutation","rejectMutationLoading","onSuccess","_message","success","selectMutation","selectMutationLoading","addCommentMutation","addCommentLoading","children","fileName","_jsxFileName","lineNumber","columnNumber","grievance","author","student","_c","$RefreshReg$"],"sources":["/Users/apple/mu-grievance-redessal-portal/frontend/src/pages/ViewGrievance/ViewGrievance.jsx"],"sourcesContent":["import React from \"react\";\nimport { useQuery, useMutation } from \"react-query\";\nimport { useParams, useHistory } from \"react-router-dom\";\nimport { message } from \"antd\";\nimport Grievance from \"components/Grievance/Grievance\";\nimport { Spinner } from \"components/Loaders/Loaders\";\nimport { errorMessage, goBackOnError } from \"utils/modalMessage\";\nimport { getGrievance, rejectGrievance, selectGrievance } from \"APIs/grievance\";\nimport { addComment } from \"APIs/grievance\";\nimport Layout from \"containers/Layout/Layout\";\n\nconst ViewGrievance = () => {\n  const { id } = useParams();\n  const history = useHistory();\n\n  const { isLoading, data, error, refetch } = useQuery([\"grievance\", id], getGrievance, {\n    retry: 1,\n    onError: () => goBackOnError(() => history.goBack()),\n  });\n\n  const [rejectMutation, { isLoading: rejectMutationLoading }] = useMutation(rejectGrievance, {\n    onSuccess: () => {\n      message.success(`Rejected Successfully!`);\n      history.goBack();\n    },\n    onError: errorMessage,\n  });\n\n  const [selectMutation, { isLoading: selectMutationLoading }] = useMutation(selectGrievance, {\n    onSuccess: () => {\n      message.success(`Selected successfully`);\n      history.goBack();\n    },\n    onError: errorMessage,\n  });\n\n  const [addCommentMutation, { isLoading: addCommentLoading }] = useMutation(addComment, {\n    onSuccess: () => {\n      refetch();\n      message.success(`Comment Added`);\n    },\n    onError: errorMessage,\n  });\n\n  return (\n    <Layout>\n      {isLoading ? (\n        <Spinner />\n      ) : (\n        !error && (\n          <Grievance\n            grievance={data.grievance}\n            rejectMutation={rejectMutation}\n            selectMutation={selectMutation}\n            author={data.student}\n            addCommentMutation={addCommentMutation}\n            addCommentLoading={addCommentLoading}\n            selectMutationLoading={selectMutationLoading}\n            rejectMutationLoading={rejectMutationLoading}\n          />\n        )\n      )}\n    </Layout>\n  );\n};\n\nexport default ViewGrievance;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}