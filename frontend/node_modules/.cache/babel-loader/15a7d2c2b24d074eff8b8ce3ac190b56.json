{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\")[\"default\"];\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.file2Obj = file2Obj;\nexports.getFileItem = getFileItem;\nexports.isImageUrl = void 0;\nexports.previewImage = previewImage;\nexports.removeFileItem = removeFileItem;\nexports.updateFileList = updateFileList;\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\nfunction file2Obj(file) {\n  return (0, _extends2[\"default\"])((0, _extends2[\"default\"])({}, file), {\n    lastModified: file.lastModified,\n    lastModifiedDate: file.lastModifiedDate,\n    name: file.name,\n    size: file.size,\n    type: file.type,\n    uid: file.uid,\n    percent: 0,\n    originFileObj: file\n  });\n}\n/** Upload fileList. Replace file if exist or just push into it. */\nfunction updateFileList(file, fileList) {\n  var nextFileList = (0, _toConsumableArray2[\"default\"])(fileList);\n  var fileIndex = nextFileList.findIndex(function (_ref) {\n    var uid = _ref.uid;\n    return uid === file.uid;\n  });\n  if (fileIndex === -1) {\n    nextFileList.push(file);\n  } else {\n    nextFileList[fileIndex] = file;\n  }\n  return nextFileList;\n}\nfunction getFileItem(file, fileList) {\n  var matchKey = file.uid !== undefined ? 'uid' : 'name';\n  return fileList.filter(function (item) {\n    return item[matchKey] === file[matchKey];\n  })[0];\n}\nfunction removeFileItem(file, fileList) {\n  var matchKey = file.uid !== undefined ? 'uid' : 'name';\n  var removed = fileList.filter(function (item) {\n    return item[matchKey] !== file[matchKey];\n  });\n  if (removed.length === fileList.length) {\n    return null;\n  }\n  return removed;\n}\n// ==================== Default Image Preview ====================\nvar extname = function extname() {\n  var url = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  var temp = url.split('/');\n  var filename = temp[temp.length - 1];\n  var filenameWithoutSuffix = filename.split(/#|\\?/)[0];\n  return (/\\.[^./\\\\]*$/.exec(filenameWithoutSuffix) || [''])[0];\n};\nvar isImageFileType = function isImageFileType(type) {\n  return type.indexOf('image/') === 0;\n};\nvar isImageUrl = exports.isImageUrl = function isImageUrl(file) {\n  if (file.type && !file.thumbUrl) {\n    return isImageFileType(file.type);\n  }\n  var url = file.thumbUrl || file.url || '';\n  var extension = extname(url);\n  if (/^data:image\\//.test(url) || /(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico|heic|heif)$/i.test(extension)) {\n    return true;\n  }\n  if (/^data:/.test(url)) {\n    // other file types of base64\n    return false;\n  }\n  if (extension) {\n    // other file types which have extension\n    return false;\n  }\n  return true;\n};\nvar MEASURE_SIZE = 200;\nfunction previewImage(file) {\n  return new Promise(function (resolve) {\n    if (!file.type || !isImageFileType(file.type)) {\n      resolve('');\n      return;\n    }\n    var canvas = document.createElement('canvas');\n    canvas.width = MEASURE_SIZE;\n    canvas.height = MEASURE_SIZE;\n    canvas.style.cssText = \"position: fixed; left: 0; top: 0; width: \".concat(MEASURE_SIZE, \"px; height: \").concat(MEASURE_SIZE, \"px; z-index: 9999; display: none;\");\n    document.body.appendChild(canvas);\n    var ctx = canvas.getContext('2d');\n    var img = new Image();\n    img.onload = function () {\n      var width = img.width,\n        height = img.height;\n      var drawWidth = MEASURE_SIZE;\n      var drawHeight = MEASURE_SIZE;\n      var offsetX = 0;\n      var offsetY = 0;\n      if (width > height) {\n        drawHeight = height * (MEASURE_SIZE / width);\n        offsetY = -(drawHeight - drawWidth) / 2;\n      } else {\n        drawWidth = width * (MEASURE_SIZE / height);\n        offsetX = -(drawWidth - drawHeight) / 2;\n      }\n      ctx.drawImage(img, offsetX, offsetY, drawWidth, drawHeight);\n      var dataURL = canvas.toDataURL();\n      document.body.removeChild(canvas);\n      window.URL.revokeObjectURL(img.src);\n      resolve(dataURL);\n    };\n    img.crossOrigin = 'anonymous';\n    if (file.type.startsWith('image/svg+xml')) {\n      var reader = new FileReader();\n      reader.onload = function () {\n        if (reader.result) img.src = reader.result;\n      };\n      reader.readAsDataURL(file);\n    } else if (file.type.startsWith('image/gif')) {\n      var _reader = new FileReader();\n      _reader.onload = function () {\n        if (_reader.result) resolve(_reader.result);\n      };\n      _reader.readAsDataURL(file);\n    } else {\n      img.src = window.URL.createObjectURL(file);\n    }\n  });\n}","map":{"version":3,"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","file2Obj","getFileItem","isImageUrl","previewImage","removeFileItem","updateFileList","_toConsumableArray2","_extends2","file","lastModified","lastModifiedDate","name","size","type","uid","percent","originFileObj","fileList","nextFileList","fileIndex","findIndex","_ref","push","matchKey","undefined","filter","item","removed","length","extname","url","arguments","temp","split","filename","filenameWithoutSuffix","exec","isImageFileType","indexOf","thumbUrl","extension","test","MEASURE_SIZE","Promise","resolve","canvas","document","createElement","width","height","style","cssText","concat","body","appendChild","ctx","getContext","img","Image","onload","drawWidth","drawHeight","offsetX","offsetY","drawImage","dataURL","toDataURL","removeChild","window","URL","revokeObjectURL","src","crossOrigin","startsWith","reader","FileReader","result","readAsDataURL","_reader","createObjectURL"],"sources":["/Users/apple/mu-grievance-redessal-portal/frontend/node_modules/antd/lib/upload/utils.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\")[\"default\"];\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.file2Obj = file2Obj;\nexports.getFileItem = getFileItem;\nexports.isImageUrl = void 0;\nexports.previewImage = previewImage;\nexports.removeFileItem = removeFileItem;\nexports.updateFileList = updateFileList;\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\nfunction file2Obj(file) {\n  return (0, _extends2[\"default\"])((0, _extends2[\"default\"])({}, file), {\n    lastModified: file.lastModified,\n    lastModifiedDate: file.lastModifiedDate,\n    name: file.name,\n    size: file.size,\n    type: file.type,\n    uid: file.uid,\n    percent: 0,\n    originFileObj: file\n  });\n}\n/** Upload fileList. Replace file if exist or just push into it. */\nfunction updateFileList(file, fileList) {\n  var nextFileList = (0, _toConsumableArray2[\"default\"])(fileList);\n  var fileIndex = nextFileList.findIndex(function (_ref) {\n    var uid = _ref.uid;\n    return uid === file.uid;\n  });\n  if (fileIndex === -1) {\n    nextFileList.push(file);\n  } else {\n    nextFileList[fileIndex] = file;\n  }\n  return nextFileList;\n}\nfunction getFileItem(file, fileList) {\n  var matchKey = file.uid !== undefined ? 'uid' : 'name';\n  return fileList.filter(function (item) {\n    return item[matchKey] === file[matchKey];\n  })[0];\n}\nfunction removeFileItem(file, fileList) {\n  var matchKey = file.uid !== undefined ? 'uid' : 'name';\n  var removed = fileList.filter(function (item) {\n    return item[matchKey] !== file[matchKey];\n  });\n  if (removed.length === fileList.length) {\n    return null;\n  }\n  return removed;\n}\n// ==================== Default Image Preview ====================\nvar extname = function extname() {\n  var url = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  var temp = url.split('/');\n  var filename = temp[temp.length - 1];\n  var filenameWithoutSuffix = filename.split(/#|\\?/)[0];\n  return (/\\.[^./\\\\]*$/.exec(filenameWithoutSuffix) || [''])[0];\n};\nvar isImageFileType = function isImageFileType(type) {\n  return type.indexOf('image/') === 0;\n};\nvar isImageUrl = exports.isImageUrl = function isImageUrl(file) {\n  if (file.type && !file.thumbUrl) {\n    return isImageFileType(file.type);\n  }\n  var url = file.thumbUrl || file.url || '';\n  var extension = extname(url);\n  if (/^data:image\\//.test(url) || /(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico|heic|heif)$/i.test(extension)) {\n    return true;\n  }\n  if (/^data:/.test(url)) {\n    // other file types of base64\n    return false;\n  }\n  if (extension) {\n    // other file types which have extension\n    return false;\n  }\n  return true;\n};\nvar MEASURE_SIZE = 200;\nfunction previewImage(file) {\n  return new Promise(function (resolve) {\n    if (!file.type || !isImageFileType(file.type)) {\n      resolve('');\n      return;\n    }\n    var canvas = document.createElement('canvas');\n    canvas.width = MEASURE_SIZE;\n    canvas.height = MEASURE_SIZE;\n    canvas.style.cssText = \"position: fixed; left: 0; top: 0; width: \".concat(MEASURE_SIZE, \"px; height: \").concat(MEASURE_SIZE, \"px; z-index: 9999; display: none;\");\n    document.body.appendChild(canvas);\n    var ctx = canvas.getContext('2d');\n    var img = new Image();\n    img.onload = function () {\n      var width = img.width,\n        height = img.height;\n      var drawWidth = MEASURE_SIZE;\n      var drawHeight = MEASURE_SIZE;\n      var offsetX = 0;\n      var offsetY = 0;\n      if (width > height) {\n        drawHeight = height * (MEASURE_SIZE / width);\n        offsetY = -(drawHeight - drawWidth) / 2;\n      } else {\n        drawWidth = width * (MEASURE_SIZE / height);\n        offsetX = -(drawWidth - drawHeight) / 2;\n      }\n      ctx.drawImage(img, offsetX, offsetY, drawWidth, drawHeight);\n      var dataURL = canvas.toDataURL();\n      document.body.removeChild(canvas);\n      window.URL.revokeObjectURL(img.src);\n      resolve(dataURL);\n    };\n    img.crossOrigin = 'anonymous';\n    if (file.type.startsWith('image/svg+xml')) {\n      var reader = new FileReader();\n      reader.onload = function () {\n        if (reader.result) img.src = reader.result;\n      };\n      reader.readAsDataURL(file);\n    } else if (file.type.startsWith('image/gif')) {\n      var _reader = new FileReader();\n      _reader.onload = function () {\n        if (_reader.result) resolve(_reader.result);\n      };\n      _reader.readAsDataURL(file);\n    } else {\n      img.src = window.URL.createObjectURL(file);\n    }\n  });\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script"}