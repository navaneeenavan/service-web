{"ast":null,"code":"import \"antd/lib/message/style\";\nimport _message from \"antd/lib/message\";\nvar _jsxFileName = \"/Users/apple/mu-grievance-redessal-portal/frontend/src/pages/SecretaryDashboard/SecretaryDashboard.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useContext } from \"react\";\nimport { useMutation, useQuery } from \"react-query\";\nimport addFilter from \"utils/grievanceSelector\";\nimport { errorMessage } from \"utils/modalMessage\";\nimport { getGrievances } from \"APIs/grievance\";\nimport { rejectGrievance, selectGrievance } from \"APIs/grievance\";\nimport Context from \"context/context\";\nimport { Spinner } from \"components/Loaders/Loaders\";\nimport List from \"containers/List/List\";\nimport Filters from \"components/Filters/Filters\";\nimport Layout from \"containers/Layout/Layout\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst SecretaryDashboard = () => {\n  _s();\n  const [filteredData, setfilteredData] = useState([]);\n  const {\n    state: {\n      filters\n    }\n  } = useContext(Context);\n  const {\n    isLoading,\n    data,\n    refetch\n  } = useQuery([\"getGrievances\", \"NEW\"], getGrievances, {\n    onError: errorMessage\n  });\n\n  // post request (mutation) using useQuery to reject the grievance\n  const [rejectMutation, {\n    isLoading: rejectGrievanceLoading\n  }] = useMutation(rejectGrievance, {\n    onSuccess: () => {\n      _message.success(`Rejected Successfully!`);\n      refetch();\n    },\n    onError: errorMessage\n  });\n\n  // post request (mutation) using useQuery to select the grievance\n  const [selectMutation, {\n    isLoading: selectGrievanceLoading\n  }] = useMutation(selectGrievance, {\n    onSuccess: () => {\n      _message.success(`Selected successfully`);\n      refetch();\n    },\n    onError: errorMessage\n  });\n  useEffect(() => {\n    if (Array.isArray(data)) {\n      setfilteredData(addFilter(data, filters));\n    }\n  }, [data, filters]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Layout, {\n      children: isLoading ? /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"animate__animated animate__fadeIn\",\n        children: [/*#__PURE__*/_jsxDEV(Filters, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(List, {\n          grievances: filteredData,\n          card: true,\n          rejectMutation: rejectMutation,\n          selectMutation: selectMutation,\n          rejectGrievanceLoading: rejectGrievanceLoading,\n          selectGrievanceLoading: selectGrievanceLoading\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n_s(SecretaryDashboard, \"0svLDQ6GMLQZ8fZCuwhyQ6BI0Dc=\", false, function () {\n  return [useQuery, useMutation, useMutation];\n});\n_c = SecretaryDashboard;\nexport default SecretaryDashboard;\nvar _c;\n$RefreshReg$(_c, \"SecretaryDashboard\");","map":{"version":3,"names":["React","useState","useEffect","useContext","useMutation","useQuery","addFilter","errorMessage","getGrievances","rejectGrievance","selectGrievance","Context","Spinner","List","Filters","Layout","jsxDEV","_jsxDEV","Fragment","_Fragment","SecretaryDashboard","_s","filteredData","setfilteredData","state","filters","isLoading","data","refetch","onError","rejectMutation","rejectGrievanceLoading","onSuccess","_message","success","selectMutation","selectGrievanceLoading","Array","isArray","children","fileName","_jsxFileName","lineNumber","columnNumber","className","grievances","card","_c","$RefreshReg$"],"sources":["/Users/apple/mu-grievance-redessal-portal/frontend/src/pages/SecretaryDashboard/SecretaryDashboard.jsx"],"sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\nimport { useMutation, useQuery } from \"react-query\";\nimport addFilter from \"utils/grievanceSelector\";\nimport { errorMessage } from \"utils/modalMessage\";\nimport { getGrievances } from \"APIs/grievance\";\nimport { rejectGrievance, selectGrievance } from \"APIs/grievance\";\nimport Context from \"context/context\";\nimport { Spinner } from \"components/Loaders/Loaders\";\nimport List from \"containers/List/List\";\nimport Filters from \"components/Filters/Filters\";\nimport { message } from \"antd\";\nimport Layout from \"containers/Layout/Layout\";\n\nconst SecretaryDashboard = () => {\n  const [filteredData, setfilteredData] = useState([]);\n  const {\n    state: { filters },\n  } = useContext(Context);\n\n  const { isLoading, data, refetch } = useQuery([\"getGrievances\", \"NEW\"], getGrievances, {\n    onError: errorMessage,\n  });\n\n  // post request (mutation) using useQuery to reject the grievance\n  const [rejectMutation, { isLoading: rejectGrievanceLoading }] = useMutation(rejectGrievance, {\n    onSuccess: () => {\n      message.success(`Rejected Successfully!`);\n      refetch();\n    },\n    onError: errorMessage,\n  });\n\n  // post request (mutation) using useQuery to select the grievance\n  const [selectMutation, { isLoading: selectGrievanceLoading }] = useMutation(selectGrievance, {\n    onSuccess: () => {\n      message.success(`Selected successfully`);\n      refetch();\n    },\n    onError: errorMessage,\n  });\n\n  useEffect(() => {\n    if (Array.isArray(data)) {\n      setfilteredData(addFilter(data, filters));\n    }\n  }, [data, filters]);\n\n  return (\n    <>\n      <Layout>\n        {isLoading ? (\n          <Spinner />\n        ) : (\n          <div className=\"animate__animated animate__fadeIn\">\n            <Filters />\n            <List\n              grievances={filteredData}\n              card\n              rejectMutation={rejectMutation}\n              selectMutation={selectMutation}\n              rejectGrievanceLoading={rejectGrievanceLoading}\n              selectGrievanceLoading={selectGrievanceLoading}\n            />\n          </div>\n        )}\n      </Layout>\n    </>\n  );\n};\nexport default SecretaryDashboard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}