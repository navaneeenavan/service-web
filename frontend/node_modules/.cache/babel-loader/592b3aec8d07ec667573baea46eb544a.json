{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\")[\"default\"];\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\")[\"default\"];\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = useModal;\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\nvar React = _interopRequireWildcard(require(\"react\"));\nvar _usePatchElement3 = _interopRequireDefault(require(\"../../_util/hooks/usePatchElement\"));\nvar _confirm = require(\"../confirm\");\nvar _HookModal = _interopRequireDefault(require(\"./HookModal\"));\nvar uuid = 0;\nvar ElementsHolder = /*#__PURE__*/React.memo( /*#__PURE__*/React.forwardRef(function (_props, ref) {\n  var _usePatchElement = (0, _usePatchElement3[\"default\"])(),\n    _usePatchElement2 = (0, _slicedToArray2[\"default\"])(_usePatchElement, 2),\n    elements = _usePatchElement2[0],\n    patchElement = _usePatchElement2[1];\n  React.useImperativeHandle(ref, function () {\n    return {\n      patchElement: patchElement\n    };\n  }, []);\n  // eslint-disable-next-line react/jsx-no-useless-fragment\n  return /*#__PURE__*/React.createElement(React.Fragment, null, elements);\n}));\nfunction useModal() {\n  var holderRef = React.useRef(null);\n  // ========================== Effect ==========================\n  var _React$useState = React.useState([]),\n    _React$useState2 = (0, _slicedToArray2[\"default\"])(_React$useState, 2),\n    actionQueue = _React$useState2[0],\n    setActionQueue = _React$useState2[1];\n  React.useEffect(function () {\n    if (actionQueue.length) {\n      var cloneQueue = (0, _toConsumableArray2[\"default\"])(actionQueue);\n      cloneQueue.forEach(function (action) {\n        action();\n      });\n      setActionQueue([]);\n    }\n  }, [actionQueue]);\n  // =========================== Hook ===========================\n  var getConfirmFunc = React.useCallback(function (withFunc) {\n    return function hookConfirm(config) {\n      var _a;\n      uuid += 1;\n      var modalRef = /*#__PURE__*/React.createRef();\n      var closeFunc;\n      var modal = /*#__PURE__*/React.createElement(_HookModal[\"default\"], {\n        key: \"modal-\".concat(uuid),\n        config: withFunc(config),\n        ref: modalRef,\n        afterClose: function afterClose() {\n          closeFunc === null || closeFunc === void 0 ? void 0 : closeFunc();\n        }\n      });\n      closeFunc = (_a = holderRef.current) === null || _a === void 0 ? void 0 : _a.patchElement(modal);\n      return {\n        destroy: function destroy() {\n          function destroyAction() {\n            var _a;\n            (_a = modalRef.current) === null || _a === void 0 ? void 0 : _a.destroy();\n          }\n          if (modalRef.current) {\n            destroyAction();\n          } else {\n            setActionQueue(function (prev) {\n              return [].concat((0, _toConsumableArray2[\"default\"])(prev), [destroyAction]);\n            });\n          }\n        },\n        update: function update(newConfig) {\n          function updateAction() {\n            var _a;\n            (_a = modalRef.current) === null || _a === void 0 ? void 0 : _a.update(newConfig);\n          }\n          if (modalRef.current) {\n            updateAction();\n          } else {\n            setActionQueue(function (prev) {\n              return [].concat((0, _toConsumableArray2[\"default\"])(prev), [updateAction]);\n            });\n          }\n        }\n      };\n    };\n  }, []);\n  var fns = React.useMemo(function () {\n    return {\n      info: getConfirmFunc(_confirm.withInfo),\n      success: getConfirmFunc(_confirm.withSuccess),\n      error: getConfirmFunc(_confirm.withError),\n      warning: getConfirmFunc(_confirm.withWarn),\n      confirm: getConfirmFunc(_confirm.withConfirm)\n    };\n  }, []);\n  // eslint-disable-next-line react/jsx-key\n  return [fns, /*#__PURE__*/React.createElement(ElementsHolder, {\n    ref: holderRef\n  })];\n}","map":{"version":3,"names":["_interopRequireWildcard","require","_interopRequireDefault","Object","defineProperty","exports","value","useModal","_toConsumableArray2","_slicedToArray2","React","_usePatchElement3","_confirm","_HookModal","uuid","ElementsHolder","memo","forwardRef","_props","ref","_usePatchElement","_usePatchElement2","elements","patchElement","useImperativeHandle","createElement","Fragment","holderRef","useRef","_React$useState","useState","_React$useState2","actionQueue","setActionQueue","useEffect","length","cloneQueue","forEach","action","getConfirmFunc","useCallback","withFunc","hookConfirm","config","_a","modalRef","createRef","closeFunc","modal","key","concat","afterClose","current","destroy","destroyAction","prev","update","newConfig","updateAction","fns","useMemo","info","withInfo","success","withSuccess","error","withError","warning","withWarn","confirm","withConfirm"],"sources":["/Users/apple/mu-grievance-redessal-portal/frontend/node_modules/antd/lib/modal/useModal/index.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\")[\"default\"];\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\")[\"default\"];\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = useModal;\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\nvar React = _interopRequireWildcard(require(\"react\"));\nvar _usePatchElement3 = _interopRequireDefault(require(\"../../_util/hooks/usePatchElement\"));\nvar _confirm = require(\"../confirm\");\nvar _HookModal = _interopRequireDefault(require(\"./HookModal\"));\nvar uuid = 0;\nvar ElementsHolder = /*#__PURE__*/React.memo( /*#__PURE__*/React.forwardRef(function (_props, ref) {\n  var _usePatchElement = (0, _usePatchElement3[\"default\"])(),\n    _usePatchElement2 = (0, _slicedToArray2[\"default\"])(_usePatchElement, 2),\n    elements = _usePatchElement2[0],\n    patchElement = _usePatchElement2[1];\n  React.useImperativeHandle(ref, function () {\n    return {\n      patchElement: patchElement\n    };\n  }, []);\n  // eslint-disable-next-line react/jsx-no-useless-fragment\n  return /*#__PURE__*/React.createElement(React.Fragment, null, elements);\n}));\nfunction useModal() {\n  var holderRef = React.useRef(null);\n  // ========================== Effect ==========================\n  var _React$useState = React.useState([]),\n    _React$useState2 = (0, _slicedToArray2[\"default\"])(_React$useState, 2),\n    actionQueue = _React$useState2[0],\n    setActionQueue = _React$useState2[1];\n  React.useEffect(function () {\n    if (actionQueue.length) {\n      var cloneQueue = (0, _toConsumableArray2[\"default\"])(actionQueue);\n      cloneQueue.forEach(function (action) {\n        action();\n      });\n      setActionQueue([]);\n    }\n  }, [actionQueue]);\n  // =========================== Hook ===========================\n  var getConfirmFunc = React.useCallback(function (withFunc) {\n    return function hookConfirm(config) {\n      var _a;\n      uuid += 1;\n      var modalRef = /*#__PURE__*/React.createRef();\n      var closeFunc;\n      var modal = /*#__PURE__*/React.createElement(_HookModal[\"default\"], {\n        key: \"modal-\".concat(uuid),\n        config: withFunc(config),\n        ref: modalRef,\n        afterClose: function afterClose() {\n          closeFunc === null || closeFunc === void 0 ? void 0 : closeFunc();\n        }\n      });\n      closeFunc = (_a = holderRef.current) === null || _a === void 0 ? void 0 : _a.patchElement(modal);\n      return {\n        destroy: function destroy() {\n          function destroyAction() {\n            var _a;\n            (_a = modalRef.current) === null || _a === void 0 ? void 0 : _a.destroy();\n          }\n          if (modalRef.current) {\n            destroyAction();\n          } else {\n            setActionQueue(function (prev) {\n              return [].concat((0, _toConsumableArray2[\"default\"])(prev), [destroyAction]);\n            });\n          }\n        },\n        update: function update(newConfig) {\n          function updateAction() {\n            var _a;\n            (_a = modalRef.current) === null || _a === void 0 ? void 0 : _a.update(newConfig);\n          }\n          if (modalRef.current) {\n            updateAction();\n          } else {\n            setActionQueue(function (prev) {\n              return [].concat((0, _toConsumableArray2[\"default\"])(prev), [updateAction]);\n            });\n          }\n        }\n      };\n    };\n  }, []);\n  var fns = React.useMemo(function () {\n    return {\n      info: getConfirmFunc(_confirm.withInfo),\n      success: getConfirmFunc(_confirm.withSuccess),\n      error: getConfirmFunc(_confirm.withError),\n      warning: getConfirmFunc(_confirm.withWarn),\n      confirm: getConfirmFunc(_confirm.withConfirm)\n    };\n  }, []);\n  // eslint-disable-next-line react/jsx-key\n  return [fns, /*#__PURE__*/React.createElement(ElementsHolder, {\n    ref: holderRef\n  })];\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script"}